import{s as pe,a2 as x,aJ as me,ag as ee,ai as U,q as l,g as M,k as te,m as T,I as se,x as H,y as A,o as d,c as g,b as re,w as _,F as v,N as k,O as C,B,a as V,P as J,a6 as fe,h as w,G as f,d as ae,t as K,av as ve,r as I,a5 as q,a1 as ge,a3 as be,R as ye,aK as Q,aL as z,ay as $e,aA as he,z as ne,aM as ke,ar as Ce,l as Ve,K as Le,L as Se,n as we,D as Ae,aE as Ie,H as Me}from"./entry.287de1d7.js";import{r as Ee}from"./headless.b1cf73ea.js";const Pe=e=>{if(e)return e;const t=U(),s=pe();return x(()=>{s.value=t.proxy.$el??void 0}),me(()=>{s.value=t.proxy.$el??void 0}),ee(()=>{s.value=t.proxy.$el??void 0}),s};function oe(e){switch(!0){case Array.isArray(e):return e.reduce((t,s)=>({...t,[s]:null}),{});case(typeof e=="object"&&e!==null):return e;default:return{}}}function F(e,t,s="props"){const{mixins:a,extends:n}=t;n&&F(e,n,s),a&&a.forEach(r=>F(e,r,s));const o=oe(t[s]);for(const r in o)e[r]=o[r]}function _e(e){return e.options?e.options:e.__vccOpts||e.__b?{...e.__vccOpts,...e.__b}:e}function Be(e,t="props"){const s=e.mixins??[],a=e.extends??[],n={};F(n,a,t);for(let o=0;o<s.length;o++)F(n,s[o],t);return Object.assign(n,oe(e[t])),n}const Fe=e=>Be(_e(e));function Oe(e,t){const s=Fe(e);return t?Object.keys(s).reduce((a,n)=>(t.includes(n)||s[n]===void 0||(a[n]=typeof s[n]=="string"?{}:s[n]),a),{}):s}const je=e=>{const{props:t}=U();return l(()=>Object.keys(e).reduce((s,a)=>(s[a]=t[a],s),{}))},X=e=>typeof e=="object"?e.listen:e,W=e=>typeof e=="object"?e.emit:e,pt=e=>{const t=()=>e.map(W),s=o=>`on${o.charAt(0).toUpperCase()+o.slice(1)}`;return{createListeners:o=>e.reduce((r,i)=>({...r,[s(X(i))]:(...p)=>o(W(i),...p)}),{}),createVOnListeners:o=>e.reduce((r,i)=>({...r,[X(i)]:(...p)=>o(W(i),...p)}),{}),createEmits:t}},N=()=>{const e=U();return e.appContext.app?e.uid+e.appContext.app._uid:e.uid},Re=e=>{const s=`message-list-${N()}`,a=l(()=>({id:s,role:"alert"})),n=l(()=>!!(typeof e.modelValue=="string"&&e.modelValue.length>0||Array.isArray(e.modelValue)&&e.modelValue.length>0)),o=l(()=>({"aria-describedby":n.value?s:void 0,"aria-invalid":e.hasError}));return{messageListAttributes:a,childAttributes:o}},We=M({name:"SlotWithAttributes",props:{attrs:{type:Object}},render(){var e;return Ee(this.$slots.default,null,this.$props.attrs||((e=this.$parent)==null?void 0:e.$attrs))}});const qe=M({name:"VaMessageList",components:{VaIcon:te,WithAttributes:We},props:{modelValue:{type:[String,Array],default:""},limit:{type:Number,default:1},color:{type:String},hasError:{type:Boolean,default:!1}},inheritAttrs:!1,setup(e,{slots:t}){const{getColor:s}=T(),{childAttributes:a,messageListAttributes:n}=Re(e);return{messageListAttributes:n,childAttributes:l(()=>a.value),messages:l(()=>e.modelValue?Array.isArray(e.modelValue)?e.modelValue.slice(0,e.limit):[e.modelValue]:[]),computedStyle:l(()=>e.color?{color:s(e.color)}:{})}}}),ze={class:"va-message-list__list"};function De(e,t,s,a,n,o){const r=A("WithAttributes"),i=A("va-icon");return d(),g(J,null,[re(r,null,{default:_(()=>[v(e.$slots,"default",k(C({ariaAttributes:e.childAttributes,messages:e.messages})))]),_:3}),v(e.$slots,"messages",k(C({ariaAttributes:e.messageListAttributes,messages:e.messages})),()=>[e.messages.length>0?(d(),g("div",B({key:0,class:"va-message-list",style:e.computedStyle},e.messageListAttributes),[V("ul",ze,[(d(!0),g(J,null,fe(e.messages,(p,c)=>(d(),g("li",{key:c,class:"va-message-list__message"},[v(e.$slots,"message",k(C({messages:e.messages,message:p})),()=>[e.hasError?(d(),w(i,{key:0,class:"va-message-list__icon",name:"va-warning",size:16})):f("",!0),ae(K(p),1)])]))),128))])],16)):f("",!0)])],64)}const Ue=H(qe,[["render",De]]),Te=se(Ue),He=e=>M({name:"ProxySlots",props:{inheritSlots:{type:Array,required:!0}},render(){var t;const s=((t=this.$parent)==null?void 0:t.$slots)||{},n=(this.$props.inheritSlots||Object.keys(s)).reduce((o,r)=>(s[r]&&(o[r]=s[r]),o),{});return ve(e,this.$attrs,{...n,...this.$slots})}});function D(e,t,s,a){if(a===void 0)return[l({set(r){s(`update:${e}`,r)},get(){return t[e]}})];const n=t[e],o=I(n===void 0?a:n);return q(()=>t[e],r=>{r!==void 0&&(o.value=r)}),[l({set(r){o.value=r,s(`update:${e}`,r)},get(){return t[e]===void 0?o.value:t[e]}})]}const Ke=Symbol("FormService"),Ne=e=>{const t=ge(Ke,null);if(!t)return{doShowError:I(!0),doShowErrorMessages:I(!0),doShowLoading:I(!0)};const s=N();return x(()=>{t.registerField(s,e)}),ee(()=>{t.unregisterField(s)}),{doShowError:t.doShowError,doShowErrorMessages:t.doShowErrorMessages,doShowLoading:t.doShowLoading}},Y=(e=[],t=null)=>(z(e)&&(e=[e]),e.map(s=>he(s)?s(t):s)),Ge={name:{type:String,default:void 0},modelValue:{required:!1},error:{type:Boolean,default:void 0},errorMessages:{type:[Array,String],default:void 0},errorCount:{type:[String,Number],default:1},rules:{type:Array,default:()=>[]},success:{type:Boolean,default:!1},messages:{type:[Array,String],default:()=>[]},immediateValidation:{type:Boolean,default:!1}},mt=["update:error","update:errorMessages"],P=e=>typeof e=="object"&&typeof e.then=="function",ft=(e,t,s)=>{const{reset:a,focus:n}=s,{isFocused:o,onFocus:r,onBlur:i}=be(),[p]=D("error",e,t,!1),[c]=D("errorMessages",e,t,[]),u=I(!1),O=l(()=>({"aria-invalid":p.value,"aria-errormessage":typeof c.value=="string"?c.value:c.value.join(", ")})),E=()=>{p.value=!1,c.value=[]},L=b=>{let y=!1,$=[];return b.forEach(m=>{z(m)?($=[...$,m],y=!0):m===!1&&(y=!0)}),c.value=$,p.value=y,!y},j=async()=>{if(!e.rules||!e.rules.length)return!0;const b=Y(Q(e.rules),s.value.value),y=b.filter(m=>P(m)),$=b.filter(m=>!P(m));return y.length?(u.value=!0,Promise.all(y).then(m=>(u.value=!1,L([...$,...m])))):L($)},S=()=>{if(!e.rules||!e.rules.length)return!0;const b=Q(e.rules),y=Y(b,s.value.value),$=y.filter(h=>P(h)),m=y.filter(h=>!P(h)),G=m.some(h=>z(h)?h:h===!1);return $.length&&!G?(u.value=!0,Promise.all($).then(h=>{L([...m,...h]),u.value=!1}),G):L(m)};q(o,b=>!b&&S());let R=!0;const ie=b=>{R=!1,b(),$e(()=>{R=!0})};q(()=>e.modelValue,()=>{if(R)return S()},{immediate:e.immediateValidation});const{doShowErrorMessages:ue,doShowError:de,doShowLoading:ce}=Ne({isValid:l(()=>!p.value),isLoading:u,errorMessages:c,validate:S,validateAsync:j,resetValidation:E,focus:n,reset:a,value:l(()=>s.value||e.modelValue),name:ye(e,"name")});return{computedError:l(()=>de.value?p.value:!1),computedErrorMessages:l(()=>ue.value?c.value:[]),isLoading:l(()=>ce.value?u.value:!1),listeners:{onFocus:r,onBlur:i},validate:S,resetValidation:E,withoutValidation:ie,validationAriaAttributes:O}};const Je=M({name:"VaInputLabel",props:{label:{type:String,default:""},requiredMark:{type:Boolean,default:!1},color:{type:String,default:"primary"}},setup(){const{getColor:e}=T();return{getColor:e}}}),Qe={key:0,class:"va-input-label__required-mark"};function Xe(e,t,s,a,n,o){return d(),g("label",{"aria-hidden":"true",class:"va-input-label",style:ne({color:e.getColor(e.$props.color,void 0,!0)})},[v(e.$slots,"default",k(C({label:e.label,requiredMark:e.requiredMark,color:e.getColor(e.$props.color)})),()=>[ae(K(e.label)+" ",1),e.requiredMark?(d(),g("span",Qe," * ")):f("",!0)])],4)}const le=H(Je,[["render",Xe]]),Ye={label:{type:String,default:""},inputAriaLabel:{type:String,default:"$t:inputField"},inputAriaLabelledby:{type:String},inputAriaDescribedby:{type:String}},Ze=e=>{const t=N(),s=`input-label-${t}`,a=`input-character-count-${t}`,n=l(()=>({"aria-label":e.label!==""?e.label:e.inputAriaLabel,"aria-labelledby":e.inputAriaLabelledby?e.inputAriaLabelledby:s,"aria-describedby":e.inputAriaDescribedby?e.inputAriaDescribedby:a}));return{labelId:s,characterCountId:a,ariaAttributes:n}},xe={disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1}},et=e=>{const t=ke(),s=Pe(e?Ce(e):void 0);let a=null;const n=l({get(){var o;if(!t.value)return!1;if(t.value===s.value)return!0;const r=(o=s.value)==null?void 0:o.contains(t.value);return r&&(a=t.value),r},set(o){var r;let i=a??s.value;(r=s.value)!=null&&r.contains(i)||(i=s.value),o?i==null||i.focus():i==null||i.blur()}});return Object.assign(n,{focusIfNothingIfFocused:()=>{t.value===document.body&&(n.value=!0)},focusPreviousElement:()=>{a?a.focus():document.body.focus()}})};const Z=Oe(le),tt=M({name:"VaInputWrapper",components:{VaMessageList:He(Te),VaIcon:te,VaInputLabel:le},props:{...Ve,...Ye,...xe,...Ge,...Z,modelValue:{type:null,default:""},counter:{type:Boolean},maxLength:{type:Number,default:void 0},label:{type:String,default:""},placeholder:{type:String,default:""},color:{type:String,default:"primary"},background:{type:String},success:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},requiredMark:{type:Boolean,default:!1},innerLabel:{type:Boolean,default:!1}},emits:["click","click-prepend","click-append","click-prepend-inner","click-append-inner","click-field","update:modelValue"],setup(e,{emit:t,slots:s}){const{getColor:a}=T(),[n]=D("modelValue",e,t,""),o=et(),r=l(()=>e.counter&&typeof n.value=="string"?n.value.length:void 0),i=Le("va-input-wrapper",()=>({...Se(e,["success","error","disabled","readonly"]),focused:!!o.value,labeled:!!(e.label||s.label),labeledInner:!!(e.label||s.label)&&e.innerLabel})),p=l(()=>a(e.color)),c=l(()=>e.background?a(e.background):"#ffffff00"),u=l(()=>e.error?e.errorMessages:e.messages),{textColorComputed:O}=we(c),E=l(()=>e.error?"danger":e.success?"success":""),L=l(()=>e.error?Number(e.errorCount):99),j=l(()=>r.value!==void 0),S=l(()=>e.maxLength!==void 0?`${r.value}/${e.maxLength}`:r.value);return{...Ze(e),vModel:n,counterValue:r,vaInputLabelProps:je(Z),wrapperClass:i,textColorComputed:O,isCounterVisible:j,counterComputed:S,colorComputed:p,backgroundComputed:c,messagesColor:E,messagesComputed:u,errorLimit:L}},methods:{focus(){this.$el.focus()},blur(){this.$el.blur()}}}),st={class:"va-input-wrapper__size-keeper"},rt={class:"va-input-wrapper__container"},at={class:"va-input-wrapper__text"},nt=["placeholder","readonly","disabled"],ot=["id"],lt={class:"va-input-wrapper__counter"};function it(e,t,s,a,n,o){const r=A("VaInputLabel"),i=A("va-icon"),p=A("va-message-list");return d(),g("div",{class:Me(["va-input-wrapper",e.wrapperClass]),onClick:t[6]||(t[6]=c=>e.$emit("click",c)),style:ne(`--va-0-background-computed: ${String(e.backgroundComputed)};--va-1-color-computed: ${String(e.colorComputed)};--va-2-text-color-computed: ${String(e.textColorComputed)}`)},[re(p,{color:e.messagesColor,"model-value":e.messagesComputed,limit:e.errorLimit,"inherit-slots":["message","messages"]},{default:_(({ariaAttributes:c})=>[V("fieldset",st,[(e.$props.label||e.$slots.label)&&!e.$props.innerLabel?(d(),w(r,B({key:0,class:"va-input-wrapper__label va-input-wrapper__label--outer"},e.vaInputLabelProps,{id:e.labelId}),{default:_(u=>[v(e.$slots,"label",k(C(u)))]),_:3},16,["id"])):f("",!0),V("div",rt,[e.$slots.prepend?(d(),g("div",{key:0,class:"va-input-wrapper__prepend-inner",onClick:t[0]||(t[0]=u=>e.$emit("click-prepend"))},[v(e.$slots,"prepend")])):f("",!0),V("div",{onClick:t[4]||(t[4]=u=>e.$emit("click-field",u)),class:"va-input-wrapper__field"},[e.$slots.prependInner?(d(),g("div",{key:0,class:"va-input-wrapper__prepend-inner",ref:"container",onClick:t[1]||(t[1]=u=>e.$emit("click-prepend-inner",u))},[v(e.$slots,"prependInner")],512)):f("",!0),V("div",at,[(e.$props.label||e.$slots.label)&&e.$props.innerLabel?(d(),w(r,B({key:0,class:"va-input-wrapper__label va-input-wrapper__label--inner"},e.vaInputLabelProps,{id:e.labelId}),{default:_(u=>[v(e.$slots,"label",k(C(u)))]),_:3},16,["id"])):f("",!0),v(e.$slots,"default",k(C({ariaAttributes:{...c,...e.ariaAttributes},value:e.vModel})),()=>[Ae(V("input",B({...c,...e.ariaAttributes},{"onUpdate:modelValue":t[2]||(t[2]=u=>e.vModel=u),placeholder:e.$props.placeholder,readonly:e.$props.readonly,disabled:e.$props.disabled}),null,16,nt),[[Ie,e.vModel]])])]),e.success?(d(),w(i,{key:1,color:"success",name:"va-check-circle",class:"va-input-wrapper__icon va-input-wrapper__icon--success"})):f("",!0),e.error?(d(),w(i,{key:2,color:"danger",name:"va-warning",class:"va-input-wrapper__icon va-input-wrapper__icon--error"})):f("",!0),e.$props.loading?(d(),w(i,{key:3,color:e.$props.color,name:"va-loading",spin:"counter-clockwise",class:"va-input-wrapper__icon va-input-wrapper__icon--loading"},null,8,["color"])):f("",!0),v(e.$slots,"icon"),e.$slots.appendInner?(d(),g("div",{key:4,class:"va-input-wrapper__append-inner",onClick:t[3]||(t[3]=u=>e.$emit("click-append-inner",u))},[v(e.$slots,"appendInner")])):f("",!0)]),e.$slots.append?(d(),g("div",{key:1,class:"va-input-wrapper__append-inner",onClick:t[5]||(t[5]=u=>e.$emit("click-append"))},[v(e.$slots,"append")])):f("",!0)]),e.isCounterVisible?(d(),g("div",{key:1,class:"va-input-wrapper__counter-wrapper",id:e.characterCountId},[v(e.$slots,"counter",k(C({valueLength:e.counterValue,maxLength:e.$props.maxLength})),()=>[V("div",lt,K(e.counterComputed),1)])],8,ot)):f("",!0)])]),_:3},8,["color","model-value","limit"])],6)}const ut=H(tt,[["render",it]]),vt=se(ut);export{vt as V,He as W,xe as a,Ge as b,mt as c,ft as d,Oe as e,je as f,pt as g,Te as h,D as i,N as j,et as k,Pe as u};
