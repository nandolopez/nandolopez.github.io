import{g as R,T as h,s as E,U as B,q as o,L as x,aa as S,ab as $,x as T,y as I,o as W,h as F,w as M,a as p,H as N,D as k,B as m,ac as A,ad as D}from"./entry.266dd42c.js";import{e as U,V as f,a as q,b as H,c as j,d as G,f as J,g as K}from"./index.5ce900ab.js";const c=e=>{if(e>0&&(e|0)===e)return!0;throw new Error(`\`minRows|maxRows\` must be a positive integer greater than 0, but ${e} is provided`)},{createEmits:O,createListeners:Q}=K(["input","change","click","update:modelValue"]),v=U(f),X=R({name:"VaTextarea",components:{VaInputWrapper:f},props:{...q,...v,...h,...H,modelValue:{type:[String,Number],default:""},placeholder:{type:String},autosize:{type:Boolean,default:!1},minRows:{type:Number,default:1,validator:c},maxRows:{type:Number,validator:c},resize:{type:Boolean,default:!0},clearValue:{type:[String],default:""}},emits:[...O(),...j],setup(e,{emit:a}){const r=E(),{valueComputed:s}=B(e,a,"modelValue",{defaultValue:""}),n=()=>{S(r.value)},l=()=>{$(r.value)},i=()=>z(()=>{a("update:modelValue",e.clearValue),a("clear"),y()}),{computedError:t,computedErrorMessages:V,listeners:w,validationAriaAttributes:b,isLoading:g,resetValidation:y,withoutValidation:z}=G(e,a,{value:s,focus:n,reset:i}),u=o(()=>e.resize&&!e.autosize),C=o(()=>{if(!e.autosize)return;const d=s.value?s.value.toString().split(`
`).length:1;return e.maxRows?Math.max(e.minRows,Math.min(d,e.maxRows)):d}),L=o(()=>({resize:u.value?void 0:"none"})),P=o(()=>({...x(e,["disabled","readonly","placeholder","ariaLabel"])}));return{isResizable:u,validationListeners:w,validationAriaAttributes:b,computedError:t,computedErrorMessages:V,isLoading:g,computedRowsCount:C,valueComputed:s,vaInputWrapperProps:J(v),textarea:r,computedStyle:L,listeners:Q(a),computedProps:P,focus:n,blur:l}}}),Y=["rows","loading","ariaLabel"];function Z(e,a,r,s,n,l){const i=I("VaInputWrapper");return W(),F(i,m({class:"va-textarea"},e.vaInputWrapperProps,{error:e.computedError,"error-messages":e.computedErrorMessages}),{default:M(()=>[p("div",{class:N(["va-textarea__resize-wrapper",{"va-textarea__resize-wrapper--resizable":e.isResizable}])},[k(p("textarea",m({"onUpdate:modelValue":a[0]||(a[0]=t=>e.valueComputed=t)},{...e.computedProps,...e.listeners,...e.validationAriaAttributes},{style:e.computedStyle,rows:e.computedRowsCount,loading:e.isLoading,ref:"textarea",ariaLabel:e.$props.label,class:"va-textarea__textarea",onFocus:a[1]||(a[1]=(...t)=>e.validationListeners.onFocus&&e.validationListeners.onFocus(...t)),onBlur:a[2]||(a[2]=(...t)=>e.validationListeners.onBlur&&e.validationListeners.onBlur(...t))}),null,16,Y),[[A,e.valueComputed]])],2)]),_:1},16,["error","error-messages"])}const _=T(X,[["render",Z]]),te=D(_);export{te as V};
