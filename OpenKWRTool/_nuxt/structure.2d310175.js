import{V as re}from"./index.8ca15119.js";import{b as ne,V as ue,a as de}from"./index.e02ebc51.js";import{g as ae,l as ie,m as ce,s as X,q as g,v as ve,x as me,y as fe,o as y,h as I,w as d,a as c,B as Z,c as $,P as M,a6 as K,H as pe,F as ee,N as le,O as te,d as A,t as C,G as Q,z as ge,I as _e,r as R,a2 as be,b as n,i as u,j as O,M as ye,V as Ce,a9 as he}from"./entry.266dd42c.js";import{V as ke,u as Se,a as Ve,b as Re}from"./useSelectable.face7256.js";import{u as Ee,a as we,V as Te}from"./index.36ddcce1.js";import{a as Ue,b as Le}from"./index.8fc4f00b.js";import"./index.5ce900ab.js";import"./headless.5334a779.js";import"./useKeyboardOnlyFocus.30cc1204.js";const $e=ae({name:"VaRadio",components:{VaMessageListWrapper:ke},emits:Se,props:{...Ve,...ie,...Ee,modelValue:{type:[Boolean,Array,String,Object,Number],default:null},options:{type:Array,default:()=>[]},name:{type:String,default:""},label:{type:String,default:void 0},leftLabel:{type:Boolean,default:!1},color:{type:String,default:"primary"},option:{type:[Object,String,Number],default:void 0},vertical:{type:Boolean,default:!1}},setup(e,{emit:r}){const{getColor:s}=ce(),h={container:X(),input:X(),label:X()},{computedError:_,computedErrorMessages:E,validationAriaAttributes:b,onBlur:k,onFocus:i}=Re(e,r,h),{getText:f,getDisabled:p,getValue:D}=we(e),v=a=>e.options.length>0?f(a):e.label??f(a),w=a=>p(a)||e.disabled,T=g(()=>e.options.length===0&&!e.option),P=a=>T.value?e.modelValue:e.modelValue===D(a),W=g(()=>T.value?[{}]:e.option?[e.option]:e.options),F=a=>({"va-radio--left-label":e.leftLabel,"va-radio--selected":P(a),"va-radio--readonly":e.readonly,"va-radio--disabled":e.disabled,"va-radio--indeterminate":e.indeterminate,"va-radio--error":_.value,"va-radio--single-option":T.value}),H=(a,V)=>{var L;if(T.value){r("update:modelValue",((L=V==null?void 0:V.target)==null?void 0:L.checked)||!1);return}r("update:modelValue",a)},z=g(()=>({color:_.value?s("danger"):""})),Y=g(()=>{const a={background:s(e.color),borderColor:s(e.color)};return _.value&&(a.borderColor=s("danger")),a}),U=g(()=>({backgroundColor:s(e.color)})),G=g(()=>({borderColor:_.value?s("danger"):s(e.color),backgroundColor:s(e.color)})),B=g(()=>({borderColor:_.value?s("danger"):s(e.color)})),t=g(()=>e.name||ve()),l=a=>{const V=w(a);return{name:t.value,disabled:V,readonly:e.readonly,tabindex:V?-1:0}};return{flexDirection:g(()=>e.vertical?"column":"row"),getDisabled:w,isChecked:P,computedOptions:W,radioClass:F,labelStyle:z,inputStyle:Y,computedError:_,computedErrorMessages:E,iconBackgroundComputedStyles:U,iconDotComputedStyles:G,iconComputedStyles:B,selectOption:H,onFocus:i,onBlur:k,inputAttributesComputed:l,computedName:t,roleComputed:g(()=>{var a;return((a=e.options)==null?void 0:a.length)>0?"radiogroup":""}),getText:v,getValue:D}}}),De=["role"],Be=["value","checked","aria-checked","onChange"],Ne=c("span",{"aria-hidden":"true",class:"va-radio__icon"},[c("span",{class:"va-radio__icon__background"}),c("span",{class:"va-radio__icon__dot"})],-1);function Oe(e,r,s,h,_,E){const b=fe("VaMessageListWrapper");return y(),I(b,{disabled:e.disabled,success:e.success,messages:e.messages,error:e.computedError,"error-messages":e.computedErrorMessages,"error-count":e.errorCount,onBlur:e.onBlur,style:ge(`--va-0-flex-direction: ${String(e.flexDirection)};--va-1-label-style-color: ${String(e.labelStyle.color)};--va-2-icon-computed-styles-border-color: ${String(e.iconComputedStyles.borderColor)};--va-3-icon-dot-computed-styles-border-color: ${String(e.iconDotComputedStyles.borderColor)};--va-4-icon-dot-computed-styles-background-color: ${String(e.iconDotComputedStyles.backgroundColor)};--va-5-icon-background-computed-styles-background-color: ${String(e.iconBackgroundComputedStyles.backgroundColor)}`)},{default:d(({ariaAttributes:k})=>[c("div",Z({ref:"container",class:"va-radio",role:e.roleComputed},k),[(y(!0),$(M,null,K(e.computedOptions,(i,f)=>(y(),$("label",{key:f,class:pe([e.radioClass(i),"va-radio__square"])},[c("input",Z({ref_for:!0,ref:"input",class:"va-radio__input",type:"radio",role:"radio",value:e.isChecked(i),checked:e.isChecked(i),"aria-checked":e.isChecked(i)},{...e.inputAttributesComputed(i),...k},{onChange:p=>e.selectOption(e.getValue(i),p),onFocus:r[0]||(r[0]=(...p)=>e.onFocus&&e.onFocus(...p)),onBlur:r[1]||(r[1]=(...p)=>e.onBlur&&e.onBlur(...p))}),null,16,Be),ee(e.$slots,"icon",le(te({value:e.isChecked(i),text:e.getText(i),disabled:e.getDisabled(i),index:f})),()=>[Ne]),e.getText(i)||e.$slots.default?(y(),$("div",{key:0,ref_for:!0,ref:"label",class:"va-radio__text"},[ee(e.$slots,"default",le(te({value:e.isChecked(i),text:e.getText(i),disabled:e.getDisabled(i),index:f})),()=>[A(C(e.getText(i)),1)])],512)):Q("",!0)],2))),128))],16,De)]),_:3},8,["disabled","success","messages","error","error-messages","error-count","onBlur","style"])}const Ie=me($e,[["render",Oe]]),Ae=_e(Ie),Pe=c("h5",{class:"text-center va-h5 w-full"},"What you want to structure?",-1),je={class:"grid grid-cols-3 gap-4"},Me=c("h5",{class:"va-h5 text-center w-full"},"Transactional keywords",-1),Ke={class:"flex justify-between items-center gap-2"},We={class:"flex gap-4"},Fe={key:0,xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"#000000","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},He=c("polyline",{points:"9 11 12 14 22 4"},null,-1),ze=c("path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"},null,-1),Ye=[He,ze],Ge=c("h5",{class:"va-h5 text-center w-full"},"URLS",-1),Je={class:"flex items-start gap-2"},qe={class:"w-full"},xe={class:"va-h6 w-full"},Xe={class:"text-lg"},Qe={class:"flex justify-between items-end gap-2"},Ze={class:"border-b border-gray-100"},el={class:"w-full"},il=ae({__name:"structure",setup(e){const r=R([]),s=R([]),h=R(""),_=R(""),E=R(""),b=R("Transactional"),k=R(),i=R(!1),f=R(0),p=R(""),D=g(()=>_.value!==""?r.value.filter(t=>t.url===""&&t.type===b.value&&t.keyword.includes(_.value)):r.value.filter(t=>t.url===""&&t.type===b.value)),v=g(()=>s.value.filter(t=>t.type===b.value)),w=g(()=>r.value.filter(t=>t.url===p.value)),T=g(()=>w.value.reduce((t,l)=>t+l.volume,0)),P=g(()=>{const t=[...Array(v.value.length).keys()];return t.splice(0,1),t}),W=()=>{D.value.forEach(l=>{l.selected&&(r.value[l.id].url=p.value,r.value[l.id].selected=!1)}),_.value="",i.value=!1;const t=v.value[f.value].id;s.value[t].volume=T.value,s.value.sort((l,m)=>m.volume-l.volume),B()},F=()=>{if(h.value.length>3){let t=h.value[0]==="/"?h.value:"/"+h.value;s.value.push({id:s.value.length,path:t,type:b.value,volume:0}),h.value=""}B(),U(v.value.length-1)},H=()=>{i.value=!i.value,D.value.forEach(t=>r.value[t.id].selected=i.value)},z=t=>{let l="/"+t.target.value;if(t.target.value.length>0){if(f.value===0){l="https://"+t.target.value,s.value[0].path=l,s.value[1].path=l+"/blog";let m=r.value.filter(a=>a.url===p.value);m.forEach(a=>r.value[a.id].url=l),m=r.value.filter(a=>a.url===p.value+"/blog"),m.forEach(a=>r.value[a.id].url=l+"/blog")}else{w.value.forEach(a=>r.value[a.id].url=l);const m=v.value[f.value].id;s.value[m].path=l}B(),p.value=l}},Y=()=>{w.value.forEach(l=>r.value[l.id].url="");const t=v.value[f.value].id;s.value.splice(t,1),f.value--},U=t=>{setTimeout(()=>{f.value=t,p.value=v.value[t].path,E.value=v.value[t].path.substring(1,v.value[t].path.length),t===0&&(E.value=v.value[t].path.substring(8,v.value[t].path.length))},300)},G=t=>{if(t!==k.value){const l=v.value[t].id,m=v.value[k.value].id,a={...s.value[l],id:m};s.value[l]={...s.value[m],id:l},s.value[m]={...a,id:m},k.value=void 0,B()}},B=()=>{localStorage.setItem("structure",JSON.stringify(s.value)),localStorage.setItem("keywords",JSON.stringify(r.value))};return be(()=>{r.value=JSON.parse(localStorage.keywords).map(t=>({...t,selected:!1})),s.value=JSON.parse(localStorage.structure),U(0)}),(t,l)=>{const m=ne,a=Ae,V=ue,L=de,j=Ce,J=re,q=Ue,x=Le,oe=Te,se=he;return y(),I(se,{name:"projects"},{default:d(()=>[n(L,null,{default:d(()=>[n(m,null,{default:d(()=>[Pe]),_:1}),n(V,{class:"flex justify-center gap-4"},{default:d(()=>[n(a,{modelValue:u(b),"onUpdate:modelValue":l[0]||(l[0]=o=>O(b)?b.value=o:null),option:"Transactional",name:"radio-group",label:"Website structure",onClick:l[1]||(l[1]=o=>U(0))},null,8,["modelValue"]),n(a,{modelValue:u(b),"onUpdate:modelValue":l[2]||(l[2]=o=>O(b)?b.value=o:null),option:"Informational",name:"radio-group",label:"blog",onClick:l[3]||(l[3]=o=>U(0))},null,8,["modelValue"])]),_:1})]),_:1}),c("div",je,[n(L,{color:u(b)==="Transactional"?"success":"info"},{default:d(()=>[n(m,null,{default:d(()=>[Me]),_:1}),n(V,{class:"flex flex-col gap-4"},{default:d(()=>[c("section",Ke,[n(j,{onClick:l[4]||(l[4]=o=>H())},{default:d(()=>[A(C(u(i)?"Unc":"C")+"heck All",1)]),_:1}),n(J,{type:"search",modelValue:u(_),"onUpdate:modelValue":l[5]||(l[5]=o=>O(_)?_.value=o:null),placeholder:"Search keywords",preset:"bordered"},null,8,["modelValue"]),n(j,{color:"info",onClick:l[6]||(l[6]=o=>W())},{default:d(()=>[A("Add to URL")]),_:1})]),(y(!0),$(M,null,K(u(D),(o,S)=>(y(),I(x,{"active-color":"primary",key:S,onClick:N=>o.selected=!o.selected,active:o.selected},{default:d(()=>[n(q,{class:"flex justify-between"},{default:d(()=>[c("span",We,[o.selected?(y(),$("svg",Fe,Ye)):Q("",!0),A(" "+C(o.keyword),1)]),c("span",null,C(o.volume),1)]),_:2},1024)]),_:2},1032,["onClick","active"]))),128))]),_:1})]),_:1},8,["color"]),n(L,null,{default:d(()=>[n(m,null,{default:d(()=>[Ge]),_:1}),n(V,{class:"flex flex-col gap-4"},{default:d(()=>[c("section",Je,[n(J,{type:"text",modelValue:u(h),"onUpdate:modelValue":l[7]||(l[7]=o=>O(h)?h.value=o:null),placeholder:"Add subURL, Example: brands/brand_name",preset:"bordered",onKeyup:ye(F,["enter"]),messages:"Initial / will set automatically, just type and press ENTER. Minimal 4 characters"},null,8,["modelValue","onKeyup"])]),(y(!0),$(M,null,K(u(v),(o,S)=>(y(),I(x,{"active-color":"primary",active:u(f)===S,onClick:N=>U(S)},{default:d(()=>[n(q,{class:"flex justify-between"},{default:d(()=>[c("span",qe,C(S===0?"":S+" - ")+C(S>0?u(v)[0].path:"")+C(o.path),1),S>0?(y(),I(oe,{key:0,modelValue:u(k),"onUpdate:modelValue":[l[8]||(l[8]=N=>O(k)?k.value=N:null),N=>G(S)],options:u(P),placeholder:"Move",class:"w-20"},null,8,["modelValue","options","onUpdate:modelValue"])):Q("",!0)]),_:2},1024)]),_:2},1032,["active","onClick"]))),256))]),_:1})]),_:1}),n(L,null,{default:d(()=>[n(m,{class:"flex flex-col"},{default:d(()=>[c("h6",xe,"Keywrods for: "+C(u(f)>0?u(v)[0].path+u(p):u(p)),1),c("span",Xe,"volume: "+C(u(T)),1)]),_:1}),n(V,{class:"flex flex-col gap-4"},{default:d(()=>[c("section",Qe,[n(J,{type:"text",modelValue:u(E),"onUpdate:modelValue":l[9]||(l[9]=o=>O(E)?E.value=o:null),onInput:l[10]||(l[10]=o=>z(o)),preset:"bordered",label:"rename url",error:u(E).length===0,"error-messages":"this field must contain information for autosave"},{prepend:d(()=>[c("span",Ze,C(u(f)>0?u(v)[0].path+"/":"https://"),1)]),_:1},8,["modelValue","error"]),n(j,{disabled:u(f)===0,color:"danger",onClick:l[11]||(l[11]=o=>Y())},{default:d(()=>[A("Remove URL")]),_:1},8,["disabled"])]),(y(!0),$(M,null,K(u(w),(o,S)=>(y(),I(x,{"active-color":"primary",key:S,onClick:N=>o.selected=!o.selected,active:o.selected},{default:d(()=>[n(q,{class:"flex justify-between"},{default:d(()=>[n(j,{color:"danger",icon:"clear",onClick:N=>u(r)[o.id].url="",size:"small"},null,8,["onClick"]),c("span",el,C(o.keyword),1),c("span",null,C(o.volume),1)]),_:2},1024)]),_:2},1032,["onClick","active"]))),128))]),_:1})]),_:1})])]),_:1})}}});export{il as default};
