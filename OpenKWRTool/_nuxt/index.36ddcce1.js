import{r as L,a2 as Wt,ag as Uo,q as f,i as K,ah as Go,ai as jt,g as Se,l as ut,K as je,L as Pe,m as tt,n as Kt,x as ke,o as x,c as H,a as Ie,F as U,d as Ve,t as ie,z as Ce,H as ct,I as we,aj as ce,ak as Xo,af as Ee,al as Yo,s as ue,a5 as z,am as Jo,an as Qo,ao as Be,j as Zo,ap as _o,aq as en,S as tn,U as on,ar as nn,R as ze,as as ln,W as qt,at as rn,au as Le,av as Ct,aw as an,P as he,ax as $t,ay as Te,az as sn,aA as At,a6 as Me,N as oe,B as J,O as $e,k as dt,aB as Ut,y as ee,h as se,G as te,D as Gt,E as un,b as ve,aC as cn,w as le,A as E,M as N,aD as dn,aE as fn,ae as pn,aa as vn,ab as mn,aF as kt}from"./entry.266dd42c.js";import{e as Xt,i as Yt,f as Jt,a as Qt,j as hn,V as Zt,c as gn,b as yn,k as bn,d as Sn}from"./index.5ce900ab.js";import{r as Bt}from"./headless.5334a779.js";import{u as wn,a as On,b as Cn}from"./index.8ca15119.js";const _t=()=>{const e=L(!1);return Wt(()=>{e.value=!0}),Uo(()=>{e.value=!1}),e},eo=["top","bottom"],to=["left","right"],$n=[...eo,...to],An=["start","end","center"],kn=$n.reduce((e,t)=>(e.push(t),An.forEach(o=>e.push(`${t}-${o}`)),e),["auto"]),Bn=eo.reduce((e,t)=>(to.forEach(o=>{e.push(`${t}-${o}`),e.push(`${o}-${t}`)}),e),[]),oo=[...kn,...Bn],Tn={"top-left":"top-start","left-top":"top-start","top-right":"top-end","right-top":"top-end","bottom-left":"bottom-start","left-bottom":"bottom-start","bottom-right":"bottom-end","right-bottom":"bottom-end"},Vn={placement:{type:String,default:"auto",validator:e=>oo.includes(e)}},no=e=>{const t=f(()=>(Tn[e.placement]||e.placement).split("-")),o=f(()=>{const r=t.value[0];return r==="auto"?"bottom":r}),n=f(()=>t.value[1]||"center");return{position:o,align:n}},lo=()=>{const e=n=>typeof n=="string"?!isNaN(+n)||n.endsWith("px")||n.endsWith("rem"):!1;return{isParsableMeasure:e,isParsablePositiveMeasure:n=>typeof n=="number"?n>=0:e(n)&&parseInt(n)>=0,parseSizeValue:(n,r=16)=>{const l=K(n);if(typeof l=="string"){const a=parseInt(l);return isNaN(a)?0:l.endsWith("rem")?a*K(r):a}return l}}},{isParsableMeasure:Tt,parseSizeValue:Vt}=lo(),xn={overlap:{type:Boolean,default:!1},placement:{type:String,default:"top-end",validator:e=>oo.includes(e)},offset:{type:[Number,String,Array],default:0,validator:e=>Array.isArray(e)?e.every(Tt):typeof e=="string"?Tt(e):!isNaN(e)}},Pn=(e,t)=>{if(!t.value)return{};const{position:o,align:n}=no(e),r=f(()=>({start:e.overlap?"-50%":"-100%",center:"-50%",end:e.overlap?"-50%":"0%"})[n.value]),l=f(()=>{if(!e.offset)return{};const s=["left","right"].includes(o.value)?"top":"left",u=s==="top"?"left":"top";if(Array.isArray(e.offset)){const[p,v]=e.offset.map(Vt);return{[`margin-${s}`]:`${p}px`,[`margin-${u}`]:`${v}px`}}const c=Vt(e.offset);return{[`margin-${u}`]:`${c}px`}}),a=f(()=>{const s=["left","right"].includes(o.value)?"top":"left",u=s==="top"?"left":"top";let c="0%";return u==="top"&&o.value==="bottom"&&(c="100%"),u==="left"&&o.value==="right"&&(c="100%"),{start:{[s]:"0%",[u]:c},center:{[s]:"50%",[u]:c},end:{[s]:"100%",[u]:c}}[n.value]}),i=f(()=>{const s={top:{x:r.value,y:e.overlap?"-50%":"-100%"},bottom:{x:r.value,y:e.overlap?"-50%":"0%"},left:{x:e.overlap?"-50%":"-100%",y:r.value},right:{x:e.overlap?"-50%":"0%",y:r.value}},{x:u,y:c}=s[o.value];return{transform:`translate(${u}, ${c})`}});return f(()=>({...a.value,...i.value,...l.value}))},In={props:"prop",attrs:"prop",slots:"slot"},En=(e,t=["props","attrs"])=>{if(!Go)return;const o=jt();if(!o)throw new Error("`useDeprecated` hook must be used only inside of setup function!");const n=o.type.name,r=K(e);t.every(l=>{var a;const i=In[l],s=u=>console.warn(`The '${u}' ${i} (${n} component) is deprecated! Please, check the documentation.`);if(l==="props"){const u=((a=o.propsOptions)==null?void 0:a[0])||{},c=o.props||{};return r.forEach(p=>{u[p]&&c[p]!==u[p].default&&s(p)}),!0}return Object.keys({...o[l]}).forEach(u=>{r.includes(u)&&s(u)}),!0})};const Ln=Se({name:"VaBadge",props:{...ut,...xn,color:{type:String,default:"danger"},textColor:{type:String},text:{type:[String,Number],default:""},multiLine:{type:Boolean,default:!1},visibleEmpty:{type:Boolean,default:!1},dot:{type:Boolean,default:!1},transparent:{type:Boolean,default:!1}},setup(e,{slots:t}){En(["transparent"]);const o=f(()=>!(e.text||e.visibleEmpty||e.dot||t.text)),n=f(()=>!!(t.default||e.dot)),r=je("va-badge",()=>({...Pe(e,["visibleEmpty","dot","multiLine"]),empty:o.value,floating:n.value})),{getColor:l}=tt(),a=f(()=>l(e.color)),{textColorComputed:i}=Kt(a),s=Pn(e,n),u=f(()=>({color:i.value,borderColor:a.value,backgroundColor:a.value,opacity:e.transparent?.5:1,...K(s)})),c=f(()=>e.text?String(e.text):void 0);return{badgeClass:r,stylesComputed:u,ariaLabelledByComputed:c}}}),Mn=["aria-labelledby"],Nn={class:"va-badge__text"};function Dn(e,t,o,n,r,l){return x(),H("div",{class:ct(["va-badge",e.badgeClass]),role:"status","aria-labelledby":e.ariaLabelledByComputed},[Ie("span",{class:"va-badge__text-wrapper",style:Ce(e.stylesComputed)},[Ie("span",Nn,[U(e.$slots,"text",{},()=>[Ve(ie(e.text),1)])])],4),U(e.$slots,"default")],10,Mn)}const Rn=ke(Ln,[["render",Dn]]),Fn=we(Rn),ro=e=>{const t=e.target;return!(!(t.tagName==="INPUT"||t.tagName==="TEXTAREA")||t.attributes.getNamedItem("readonly"))},Hn=["ArrowDown","ArrowUp","Enter","Space"],zn=(e,t)=>{ce("keydown",o=>{ro(o)||Hn.includes(o.key)&&(t.value=!t.value,o.preventDefault())},e),ce("keydown",o=>{o.key==="Escape"&&t.value&&(t.value=!1,o.preventDefault())},!0)},Wn=(e,t)=>{ce(["click","contextmenu","dblclick"],o=>{ro(o)||t[o.type](o)},e),ce(["mouseleave","mouseenter"],o=>{t[o.type](o)},e)},jn=e=>{const t=L(),o=Xo(),n=_t();return{anchorRef:f({set(l){t.value=Ee(l)},get(){var l,a;return n.value,e.anchorSelector?((l=o.value)==null?void 0:l.querySelector(e.anchorSelector))??t.value:e.innerAnchorSelector&&t.value?((a=t.value)==null?void 0:a.querySelector(e.innerAnchorSelector))??t.value:t.value}})}},Kn=(e,t)=>{const o=Yo({x:0,y:0});return ce(["mousemove","mousedown","mouseup"],n=>{var r;if(t.value)return;const{x:l,y:a}=((r=e.value)==null?void 0:r.getBoundingClientRect())??{x:0,y:0};o.x=n.clientX-l,o.y=n.clientY-a},e),f(()=>({getBoundingClientRect(){var n;const{x:r,y:l}=((n=e.value)==null?void 0:n.getBoundingClientRect())??{x:0,y:0},a=o.x+r,i=o.y+l;return{width:0,height:0,x:a,y:i,top:i,right:a,bottom:i,left:a}},contextElement:e.value}))},Ne=Math.min,Y=Math.max,Ze=Math.round,Qe=Math.floor,ge=e=>({x:e,y:e}),qn={left:"right",right:"left",bottom:"top",top:"bottom"},Un={start:"end",end:"start"};function xt(e,t,o){return Y(e,Ne(t,o))}function Ke(e,t){return typeof e=="function"?e(t):e}function ye(e){return e.split("-")[0]}function qe(e){return e.split("-")[1]}function ao(e){return e==="x"?"y":"x"}function so(e){return e==="y"?"height":"width"}function Ue(e){return["top","bottom"].includes(ye(e))?"y":"x"}function io(e){return ao(Ue(e))}function Gn(e,t,o){o===void 0&&(o=!1);const n=qe(e),r=io(e),l=so(r);let a=r==="x"?n===(o?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[l]>t.floating[l]&&(a=_e(a)),[a,_e(a)]}function Xn(e){const t=_e(e);return[it(e),t,it(t)]}function it(e){return e.replace(/start|end/g,t=>Un[t])}function Yn(e,t,o){const n=["left","right"],r=["right","left"],l=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return o?t?r:n:t?n:r;case"left":case"right":return t?l:a;default:return[]}}function Jn(e,t,o,n){const r=qe(e);let l=Yn(ye(e),o==="start",n);return r&&(l=l.map(a=>a+"-"+r),t&&(l=l.concat(l.map(it)))),l}function _e(e){return e.replace(/left|right|bottom|top/g,t=>qn[t])}function Qn(e){return{top:0,right:0,bottom:0,left:0,...e}}function Zn(e){return typeof e!="number"?Qn(e):{top:e,right:e,bottom:e,left:e}}function et(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function Pt(e,t,o){let{reference:n,floating:r}=e;const l=Ue(t),a=io(t),i=so(a),s=ye(t),u=l==="y",c=n.x+n.width/2-r.width/2,p=n.y+n.height/2-r.height/2,v=n[i]/2-r[i]/2;let d;switch(s){case"top":d={x:c,y:n.y-r.height};break;case"bottom":d={x:c,y:n.y+n.height};break;case"right":d={x:n.x+n.width,y:p};break;case"left":d={x:n.x-r.width,y:p};break;default:d={x:n.x,y:n.y}}switch(qe(t)){case"start":d[a]-=v*(o&&u?-1:1);break;case"end":d[a]+=v*(o&&u?-1:1);break}return d}const _n=async(e,t,o)=>{const{placement:n="bottom",strategy:r="absolute",middleware:l=[],platform:a}=o,i=l.filter(Boolean),s=await(a.isRTL==null?void 0:a.isRTL(t));let u=await a.getElementRects({reference:e,floating:t,strategy:r}),{x:c,y:p}=Pt(u,n,s),v=n,d={},h=0;for(let y=0;y<i.length;y++){const{name:w,fn:S}=i[y],{x:C,y:O,data:k,reset:b}=await S({x:c,y:p,initialPlacement:n,placement:v,strategy:r,middlewareData:d,rects:u,platform:a,elements:{reference:e,floating:t}});if(c=C??c,p=O??p,d={...d,[w]:{...d[w],...k}},b&&h<=50){h++,typeof b=="object"&&(b.placement&&(v=b.placement),b.rects&&(u=b.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:r}):b.rects),{x:c,y:p}=Pt(u,v,s)),y=-1;continue}}return{x:c,y:p,placement:v,strategy:r,middlewareData:d}};async function ft(e,t){var o;t===void 0&&(t={});const{x:n,y:r,platform:l,rects:a,elements:i,strategy:s}=e,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:p="floating",altBoundary:v=!1,padding:d=0}=Ke(t,e),h=Zn(d),w=i[v?p==="floating"?"reference":"floating":p],S=et(await l.getClippingRect({element:(o=await(l.isElement==null?void 0:l.isElement(w)))==null||o?w:w.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(i.floating)),boundary:u,rootBoundary:c,strategy:s})),C=p==="floating"?{...a.floating,x:n,y:r}:a.reference,O=await(l.getOffsetParent==null?void 0:l.getOffsetParent(i.floating)),k=await(l.isElement==null?void 0:l.isElement(O))?await(l.getScale==null?void 0:l.getScale(O))||{x:1,y:1}:{x:1,y:1},b=et(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({rect:C,offsetParent:O,strategy:s}):C);return{top:(S.top-b.top+h.top)/k.y,bottom:(b.bottom-S.bottom+h.bottom)/k.y,left:(S.left-b.left+h.left)/k.x,right:(b.right-S.right+h.right)/k.x}}const el=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var o,n;const{placement:r,middlewareData:l,rects:a,initialPlacement:i,platform:s,elements:u}=t,{mainAxis:c=!0,crossAxis:p=!0,fallbackPlacements:v,fallbackStrategy:d="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:y=!0,...w}=Ke(e,t);if((o=l.arrow)!=null&&o.alignmentOffset)return{};const S=ye(r),C=ye(i)===i,O=await(s.isRTL==null?void 0:s.isRTL(u.floating)),k=v||(C||!y?[_e(i)]:Xn(i));!v&&h!=="none"&&k.push(...Jn(i,y,h,O));const b=[i,...k],T=await ft(t,w),$=[];let P=((n=l.flip)==null?void 0:n.overflows)||[];if(c&&$.push(T[S]),p){const R=Gn(r,a,O);$.push(T[R[0]],T[R[1]])}if(P=[...P,{placement:r,overflows:$}],!$.every(R=>R<=0)){var A,G;const R=(((A=l.flip)==null?void 0:A.index)||0)+1,Z=b[R];if(Z)return{data:{index:R,overflows:P},reset:{placement:Z}};let V=(G=P.filter(W=>W.overflows[0]<=0).sort((W,j)=>W.overflows[1]-j.overflows[1])[0])==null?void 0:G.placement;if(!V)switch(d){case"bestFit":{var X;const W=(X=P.map(j=>[j.placement,j.overflows.filter(ae=>ae>0).reduce((ae,q)=>ae+q,0)]).sort((j,ae)=>j[1]-ae[1])[0])==null?void 0:X[0];W&&(V=W);break}case"initialPlacement":V=i;break}if(r!==V)return{reset:{placement:V}}}return{}}}};async function tl(e,t){const{placement:o,platform:n,elements:r}=e,l=await(n.isRTL==null?void 0:n.isRTL(r.floating)),a=ye(o),i=qe(o),s=Ue(o)==="y",u=["left","top"].includes(a)?-1:1,c=l&&s?-1:1,p=Ke(t,e);let{mainAxis:v,crossAxis:d,alignmentAxis:h}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...p};return i&&typeof h=="number"&&(d=i==="end"?h*-1:h),s?{x:d*c,y:v*u}:{x:v*u,y:d*c}}const ol=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){const{x:o,y:n}=t,r=await tl(t,e);return{x:o+r.x,y:n+r.y,data:r}}}},nl=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:o,y:n,placement:r}=t,{mainAxis:l=!0,crossAxis:a=!1,limiter:i={fn:w=>{let{x:S,y:C}=w;return{x:S,y:C}}},...s}=Ke(e,t),u={x:o,y:n},c=await ft(t,s),p=Ue(ye(r)),v=ao(p);let d=u[v],h=u[p];if(l){const w=v==="y"?"top":"left",S=v==="y"?"bottom":"right",C=d+c[w],O=d-c[S];d=xt(C,d,O)}if(a){const w=p==="y"?"top":"left",S=p==="y"?"bottom":"right",C=h+c[w],O=h-c[S];h=xt(C,h,O)}const y=i.fn({...t,[v]:d,[p]:h});return{...y,data:{x:y.x-o,y:y.y-n}}}}},ll=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){const{placement:o,rects:n,platform:r,elements:l}=t,{apply:a=()=>{},...i}=Ke(e,t),s=await ft(t,i),u=ye(o),c=qe(o),p=Ue(o)==="y",{width:v,height:d}=n.floating;let h,y;u==="top"||u==="bottom"?(h=u,y=c===(await(r.isRTL==null?void 0:r.isRTL(l.floating))?"start":"end")?"left":"right"):(y=u,h=c==="end"?"top":"bottom");const w=d-s[h],S=v-s[y],C=!t.middlewareData.shift;let O=w,k=S;if(p){const T=v-s.left-s.right;k=c||C?Ne(S,T):T}else{const T=d-s.top-s.bottom;O=c||C?Ne(w,T):T}if(C&&!c){const T=Y(s.left,0),$=Y(s.right,0),P=Y(s.top,0),A=Y(s.bottom,0);p?k=v-2*(T!==0||$!==0?T+$:Y(s.left,s.right)):O=d-2*(P!==0||A!==0?P+A:Y(s.top,s.bottom))}await a({...t,availableWidth:k,availableHeight:O});const b=await r.getDimensions(l.floating);return v!==b.width||d!==b.height?{reset:{rects:!0}}:{}}}};function be(e){return uo(e)?(e.nodeName||"").toLowerCase():"#document"}function Q(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function fe(e){var t;return(t=(uo(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function uo(e){return e instanceof Node||e instanceof Q(e).Node}function de(e){return e instanceof Element||e instanceof Q(e).Element}function re(e){return e instanceof HTMLElement||e instanceof Q(e).HTMLElement}function It(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Q(e).ShadowRoot}function Ge(e){const{overflow:t,overflowX:o,overflowY:n,display:r}=_(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+o)&&!["inline","contents"].includes(r)}function rl(e){return["table","td","th"].includes(be(e))}function pt(e){const t=vt(),o=_(e);return o.transform!=="none"||o.perspective!=="none"||(o.containerType?o.containerType!=="normal":!1)||!t&&(o.backdropFilter?o.backdropFilter!=="none":!1)||!t&&(o.filter?o.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(o.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(o.contain||"").includes(n))}function al(e){let t=De(e);for(;re(t)&&!ot(t);){if(pt(t))return t;t=De(t)}return null}function vt(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ot(e){return["html","body","#document"].includes(be(e))}function _(e){return Q(e).getComputedStyle(e)}function nt(e){return de(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function De(e){if(be(e)==="html")return e;const t=e.assignedSlot||e.parentNode||It(e)&&e.host||fe(e);return It(t)?t.host:t}function co(e){const t=De(e);return ot(t)?e.ownerDocument?e.ownerDocument.body:e.body:re(t)&&Ge(t)?t:co(t)}function We(e,t,o){var n;t===void 0&&(t=[]),o===void 0&&(o=!0);const r=co(e),l=r===((n=e.ownerDocument)==null?void 0:n.body),a=Q(r);return l?t.concat(a,a.visualViewport||[],Ge(r)?r:[],a.frameElement&&o?We(a.frameElement):[]):t.concat(r,We(r,[],o))}function fo(e){const t=_(e);let o=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const r=re(e),l=r?e.offsetWidth:o,a=r?e.offsetHeight:n,i=Ze(o)!==l||Ze(n)!==a;return i&&(o=l,n=a),{width:o,height:n,$:i}}function mt(e){return de(e)?e:e.contextElement}function xe(e){const t=mt(e);if(!re(t))return ge(1);const o=t.getBoundingClientRect(),{width:n,height:r,$:l}=fo(t);let a=(l?Ze(o.width):o.width)/n,i=(l?Ze(o.height):o.height)/r;return(!a||!Number.isFinite(a))&&(a=1),(!i||!Number.isFinite(i))&&(i=1),{x:a,y:i}}const sl=ge(0);function po(e){const t=Q(e);return!vt()||!t.visualViewport?sl:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function il(e,t,o){return t===void 0&&(t=!1),!o||t&&o!==Q(e)?!1:t}function Ae(e,t,o,n){t===void 0&&(t=!1),o===void 0&&(o=!1);const r=e.getBoundingClientRect(),l=mt(e);let a=ge(1);t&&(n?de(n)&&(a=xe(n)):a=xe(e));const i=il(l,o,n)?po(l):ge(0);let s=(r.left+i.x)/a.x,u=(r.top+i.y)/a.y,c=r.width/a.x,p=r.height/a.y;if(l){const v=Q(l),d=n&&de(n)?Q(n):n;let h=v.frameElement;for(;h&&n&&d!==v;){const y=xe(h),w=h.getBoundingClientRect(),S=_(h),C=w.left+(h.clientLeft+parseFloat(S.paddingLeft))*y.x,O=w.top+(h.clientTop+parseFloat(S.paddingTop))*y.y;s*=y.x,u*=y.y,c*=y.x,p*=y.y,s+=C,u+=O,h=Q(h).frameElement}}return et({width:c,height:p,x:s,y:u})}function ul(e){let{rect:t,offsetParent:o,strategy:n}=e;const r=re(o),l=fe(o);if(o===l)return t;let a={scrollLeft:0,scrollTop:0},i=ge(1);const s=ge(0);if((r||!r&&n!=="fixed")&&((be(o)!=="body"||Ge(l))&&(a=nt(o)),re(o))){const u=Ae(o);i=xe(o),s.x=u.x+o.clientLeft,s.y=u.y+o.clientTop}return{width:t.width*i.x,height:t.height*i.y,x:t.x*i.x-a.scrollLeft*i.x+s.x,y:t.y*i.y-a.scrollTop*i.y+s.y}}function cl(e){return Array.from(e.getClientRects())}function vo(e){return Ae(fe(e)).left+nt(e).scrollLeft}function dl(e){const t=fe(e),o=nt(e),n=e.ownerDocument.body,r=Y(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),l=Y(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let a=-o.scrollLeft+vo(e);const i=-o.scrollTop;return _(n).direction==="rtl"&&(a+=Y(t.clientWidth,n.clientWidth)-r),{width:r,height:l,x:a,y:i}}function fl(e,t){const o=Q(e),n=fe(e),r=o.visualViewport;let l=n.clientWidth,a=n.clientHeight,i=0,s=0;if(r){l=r.width,a=r.height;const u=vt();(!u||u&&t==="fixed")&&(i=r.offsetLeft,s=r.offsetTop)}return{width:l,height:a,x:i,y:s}}function pl(e,t){const o=Ae(e,!0,t==="fixed"),n=o.top+e.clientTop,r=o.left+e.clientLeft,l=re(e)?xe(e):ge(1),a=e.clientWidth*l.x,i=e.clientHeight*l.y,s=r*l.x,u=n*l.y;return{width:a,height:i,x:s,y:u}}function Et(e,t,o){let n;if(t==="viewport")n=fl(e,o);else if(t==="document")n=dl(fe(e));else if(de(t))n=pl(t,o);else{const r=po(e);n={...t,x:t.x-r.x,y:t.y-r.y}}return et(n)}function mo(e,t){const o=De(e);return o===t||!de(o)||ot(o)?!1:_(o).position==="fixed"||mo(o,t)}function vl(e,t){const o=t.get(e);if(o)return o;let n=We(e,[],!1).filter(i=>de(i)&&be(i)!=="body"),r=null;const l=_(e).position==="fixed";let a=l?De(e):e;for(;de(a)&&!ot(a);){const i=_(a),s=pt(a);!s&&i.position==="fixed"&&(r=null),(l?!s&&!r:!s&&i.position==="static"&&!!r&&["absolute","fixed"].includes(r.position)||Ge(a)&&!s&&mo(e,a))?n=n.filter(c=>c!==a):r=i,a=De(a)}return t.set(e,n),n}function ml(e){let{element:t,boundary:o,rootBoundary:n,strategy:r}=e;const a=[...o==="clippingAncestors"?vl(t,this._c):[].concat(o),n],i=a[0],s=a.reduce((u,c)=>{const p=Et(t,c,r);return u.top=Y(p.top,u.top),u.right=Ne(p.right,u.right),u.bottom=Ne(p.bottom,u.bottom),u.left=Y(p.left,u.left),u},Et(t,i,r));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}}function hl(e){return fo(e)}function gl(e,t,o){const n=re(t),r=fe(t),l=o==="fixed",a=Ae(e,!0,l,t);let i={scrollLeft:0,scrollTop:0};const s=ge(0);if(n||!n&&!l)if((be(t)!=="body"||Ge(r))&&(i=nt(t)),n){const u=Ae(t,!0,l,t);s.x=u.x+t.clientLeft,s.y=u.y+t.clientTop}else r&&(s.x=vo(r));return{x:a.left+i.scrollLeft-s.x,y:a.top+i.scrollTop-s.y,width:a.width,height:a.height}}function Lt(e,t){return!re(e)||_(e).position==="fixed"?null:t?t(e):e.offsetParent}function ho(e,t){const o=Q(e);if(!re(e))return o;let n=Lt(e,t);for(;n&&rl(n)&&_(n).position==="static";)n=Lt(n,t);return n&&(be(n)==="html"||be(n)==="body"&&_(n).position==="static"&&!pt(n))?o:n||al(e)||o}const yl=async function(e){let{reference:t,floating:o,strategy:n}=e;const r=this.getOffsetParent||ho,l=this.getDimensions;return{reference:gl(t,await r(o),n),floating:{x:0,y:0,...await l(o)}}};function bl(e){return _(e).direction==="rtl"}const Sl={convertOffsetParentRelativeRectToViewportRelativeRect:ul,getDocumentElement:fe,getClippingRect:ml,getOffsetParent:ho,getElementRects:yl,getClientRects:cl,getDimensions:hl,getScale:xe,isElement:de,isRTL:bl};function wl(e,t){let o=null,n;const r=fe(e);function l(){clearTimeout(n),o&&o.disconnect(),o=null}function a(i,s){i===void 0&&(i=!1),s===void 0&&(s=1),l();const{left:u,top:c,width:p,height:v}=e.getBoundingClientRect();if(i||t(),!p||!v)return;const d=Qe(c),h=Qe(r.clientWidth-(u+p)),y=Qe(r.clientHeight-(c+v)),w=Qe(u),C={rootMargin:-d+"px "+-h+"px "+-y+"px "+-w+"px",threshold:Y(0,Ne(1,s))||1};let O=!0;function k(b){const T=b[0].intersectionRatio;if(T!==s){if(!O)return a();T?a(!1,T):n=setTimeout(()=>{a(!1,1e-7)},100)}O=!1}try{o=new IntersectionObserver(k,{...C,root:r.ownerDocument})}catch{o=new IntersectionObserver(k,C)}o.observe(e)}return a(!0),l}function Ol(e,t,o,n){n===void 0&&(n={});const{ancestorScroll:r=!0,ancestorResize:l=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:i=typeof IntersectionObserver=="function",animationFrame:s=!1}=n,u=mt(e),c=r||l?[...u?We(u):[],...We(t)]:[];c.forEach(S=>{r&&S.addEventListener("scroll",o,{passive:!0}),l&&S.addEventListener("resize",o)});const p=u&&i?wl(u,o):null;let v=-1,d=null;a&&(d=new ResizeObserver(S=>{let[C]=S;C&&C.target===u&&d&&(d.unobserve(t),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{d&&d.observe(t)})),o()}),u&&!s&&d.observe(u),d.observe(t));let h,y=s?Ae(e):null;s&&w();function w(){const S=Ae(e);y&&(S.x!==y.x||S.y!==y.y||S.width!==y.width||S.height!==y.height)&&o(),y=S,h=requestAnimationFrame(w)}return o(),()=>{c.forEach(S=>{r&&S.removeEventListener("scroll",o),l&&S.removeEventListener("resize",o)}),p&&p(),d&&d.disconnect(),d=null,s&&cancelAnimationFrame(h)}}const Cl=(e,t,o)=>{const n=new Map,r={platform:Sl,...o},l={...r.platform,_c:n};return _n(e,t,{...r,platform:l})};function Mt(e){var t;return(t=e==null?void 0:e.$el)!=null?t:e}function go(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Nt(e,t){const o=go(e);return Math.round(t*o)/o}function $l(e,t,o){o===void 0&&(o={});const n=o.whileElementsMounted,r=f(()=>{var $;return($=K(o.open))!=null?$:!0}),l=f(()=>K(o.middleware)),a=f(()=>{var $;return($=K(o.placement))!=null?$:"bottom"}),i=f(()=>{var $;return($=K(o.strategy))!=null?$:"absolute"}),s=f(()=>{var $;return($=K(o.transform))!=null?$:!0}),u=f(()=>Mt(e.value)),c=f(()=>Mt(t.value)),p=L(0),v=L(0),d=L(i.value),h=L(a.value),y=ue({}),w=L(!1),S=f(()=>{const $={position:d.value,left:"0",top:"0"};if(!c.value)return $;const P=Nt(c.value,p.value),A=Nt(c.value,v.value);return s.value?{...$,transform:"translate("+P+"px, "+A+"px)",...go(c.value)>=1.5&&{willChange:"transform"}}:{position:d.value,left:P+"px",top:A+"px"}});let C;function O(){u.value==null||c.value==null||Cl(u.value,c.value,{middleware:l.value,placement:a.value,strategy:i.value}).then($=>{p.value=$.x,v.value=$.y,d.value=$.strategy,h.value=$.placement,y.value=$.middlewareData,w.value=!0})}function k(){typeof C=="function"&&(C(),C=void 0)}function b(){if(k(),n===void 0){O();return}if(u.value!=null&&c.value!=null){C=n(u.value,c.value,O);return}}function T(){r.value||(w.value=!1)}return z([l,a,i],O,{flush:"sync"}),z([u,c],b,{flush:"sync"}),z(r,T,{flush:"sync"}),Jo()&&Qo(k),{x:Be(p),y:Be(v),strategy:Be(d),placement:Be(h),middlewareData:Be(y),isPositioned:Be(w),floatingStyles:S,update:O}}const Al=(e,t,o,n)=>{const r=f(()=>{const{position:u,align:c}=no({placement:n.value.placement});return`${u.value}-${c.value}`}),l=f(()=>{const u=n.value.offset,c={mainAxis:0,crossAxis:0};return Array.isArray(u)&&(c.mainAxis=u[0],c.crossAxis=u[1]),typeof u=="number"&&(c.mainAxis=u),c}),a=f(()=>{const{autoPlacement:u,stickToEdges:c,keepAnchorWidth:p,verticalScrollOnOverflow:v}=n.value,d=[ol(l.value)];return u&&d.push(el({boundary:o.value})),c&&d.push(nl()),(p||v)&&d.push(ll({apply({elements:h,availableHeight:y}){if(p){const S=h.reference.getBoundingClientRect().width;Object.assign(h.floating.style,{maxWidth:`${S}px`,minWidth:`${S}px`})}v&&Object.assign(h.floating.style,{maxHeight:`${y}px`})}})),d}),{floatingStyles:i,isPositioned:s}=typeof document>"u"?{floatingStyles:{},isPositioned:L(!1)}:$l(e,t,{placement:r,whileElementsMounted:Ol,middleware:a,transform:!0});return{floatingStyles:f(()=>s.value?i.value:{position:"fixed"}),isPositioned:s}},kl=(e,t)=>!t||t instanceof Window?!1:t.parentElement===e?!0:e.contains(t),Bl=e=>Array.isArray(e)?e:[e],Tl=(e,t,o={})=>{let n=!1;o.onlyKeyboard&&ce("mousedown",r=>{n=!0,setTimeout(()=>{n=!1},200)},!0),ce("focus",r=>{if(o.onlyKeyboard&&n)return;const l=r.target;if(r.target.shadowRoot)return;Bl(e).some(i=>{const s=Ee(K(i));return s&&kl(s,l)})||t(l)},!0)},st=e=>f(()=>typeof(e==null?void 0:e.value)=="string"?document.querySelector(e.value):Ee(e==null?void 0:e.value)),Dt=e=>{let t=null;const o=()=>_o(()=>{t==null||t(),t=null},K(e));let n=o();return Zo(e)&&z(e,()=>{n=o()}),{debounced:r=>{t=r,n()},cancel:()=>n.cancel()}};const Vl=Se({name:"VaDropdown",props:{...Vn,...en(!0),modelValue:{type:Boolean,default:!1},anchorSelector:{type:String,default:""},innerAnchorSelector:{type:String,default:""},trigger:{type:String,default:"click",validator:e=>["click","right-click","hover","dblclick","none"].includes(e)},disabled:{type:Boolean},readonly:{type:Boolean},closeOnClickOutside:{type:Boolean,default:!0},closeOnFocusOutside:{type:Boolean,default:!0},closeOnAnchorClick:{type:Boolean,default:!0},closeOnContentClick:{type:Boolean,default:!0},hoverOverTimeout:{type:Number,default:30},hoverOutTimeout:{type:Number,default:200},isContentHoverable:{type:Boolean,default:!0},offset:{type:[Array,Number],default:0},keepAnchorWidth:{type:Boolean,default:!1},verticalScrollOnOverflow:{type:Boolean,default:!0},cursor:{type:Boolean,default:!1},autoPlacement:{type:Boolean,default:!0},stickToEdges:{type:Boolean,default:!1},target:{type:[String,Object],default:void 0},teleport:{type:[String,Object],default:void 0},keyboardNavigation:{type:Boolean,default:!1},ariaLabel:{type:String,default:"$t:toggleDropdown"},role:{type:String,default:"button"}},emits:[...tn,"anchor-click","anchor-right-click","content-click","click-outside","focus-outside","close","open","anchor-dblclick"],setup(e,{emit:t}){const{valueComputed:o}=on(e,t,"modelValue"),n=f({get:()=>o.value&&!e.disabled&&!e.readonly,set(V){o.value=V,t(V?"open":"close")}}),r=_t(),{anchorRef:l}=jn(e),a=f(()=>e.cursor?Kn(l,n).value:void 0),i=nn("floating"),s=st(L("body")),u=st(f(()=>e.target)),c=st(f(()=>e.teleport)),p=je("va-dropdown",()=>Pe(e,["disabled"])),v=f(()=>{if(c.value)return c.value;if(u.value)return u.value;if(l.value){const V=l.value.getRootNode();if(V instanceof ShadowRoot){const W=[...V.children].find(j=>j.tagName!=="STYLE");if(W)return W}}return s.value}),d=f(()=>e.disabled),h=f(()=>r.value&&n.value),{debounced:y,cancel:w}=Dt(ze(e,"hoverOverTimeout")),{debounced:S,cancel:C}=Dt(ze(e,"hoverOutTimeout")),O=V=>{if(!(e.trigger!=="click"&&$t(e.trigger)!=="right-click"||e.disabled))if(n.value)P("anchor-click",e.closeOnAnchorClick,V);else{if(e.trigger!=="click")return;n.value=!0,t("anchor-click",V)}},k=V=>{$t(e.trigger)!=="right-click"||e.disabled||(V.preventDefault(),n.value?(P("anchor-right-click",e.closeOnAnchorClick,V),e.cursor&&Te(()=>{n.value=!0})):(n.value=!0,t("anchor-right-click",V)))},b=()=>{},T=()=>{e.trigger!=="hover"||e.disabled||(y(()=>{n.value=!0}),C())},$=()=>{e.trigger!=="hover"||e.disabled||(e.isContentHoverable?S(()=>{n.value=!1}):n.value=!1,w())};Wn(l,{click:O,contextmenu:k,dblclick:b,mouseenter:T,mouseleave:$}),e.keyboardNavigation&&zn(l,n);const P=(V,W,j)=>{t(V,j),W&&(n.value=!1)},A={onMouseover:()=>e.isContentHoverable&&T(),onMouseout:()=>$(),onClick:()=>P("content-click",e.closeOnContentClick)};ln([l,i],()=>{e.closeOnClickOutside&&n.value&&P("click-outside",e.closeOnClickOutside)}),Tl([i],()=>{e.closeOnFocusOutside&&n.value&&P("focus-outside",e.closeOnFocusOutside)},{onlyKeyboard:!0});const G=f(()=>a.value||l.value),{floatingStyles:X}=Al(G,i,u,f(()=>({placement:e.placement,offset:e.offset,autoPlacement:e.autoPlacement,stickToEdges:e.stickToEdges,keepAnchorWidth:e.keepAnchorWidth,verticalScrollOnOverflow:e.verticalScrollOnOverflow}))),R=()=>{n.value=!1},Z=()=>{n.value=!0};return{...qt(),...rn(),anchor:l,anchorClass:p,floating:i,floatingStyles:X,teleportDisabled:d,showFloating:h,teleportTarget:v,floatingListeners:A,isMounted:r,valueComputed:n,hide:R,show:Z}},render(){this.valueComputed,this.$props.disabled,this.tp(this.$props.ariaLabel);const e={isOpened:this.valueComputed,hide:this.hide,show:this.show,toggle:()=>this.valueComputed?this.hide():this.show(),getAnchorWidth:()=>{var n;return((n=this.anchor)==null?void 0:n.offsetWidth)+"px"},getAnchorHeight:()=>{var n;return((n=this.anchor)==null?void 0:n.offsetHeight)+"px"}},t=this.showFloating&&Bt(this.$slots.default,e,{ref:"floating",class:"va-dropdown__content-wrapper",style:this.floatingStyles,...this.teleportedAttrs,...this.floatingListeners}),o=Bt(this.$slots.anchor,e,{ref:"anchor",role:this.$props.role,class:["va-dropdown",...this.anchorClass.asArray.value],style:{position:"relative"},"aria-label":this.tp(this.$props.ariaLabel),"aria-disabled":this.$props.disabled,"aria-expanded":this.$props.role&&this.$props.role!=="none"?!!this.showFloating:void 0,...this.teleportFromAttrs,...this.$attrs});if(!this.$props.anchorSelector&&!o){Le("VaDropdown: #anchor slot is missing");return}if(this.showFloating&&!t){Le("VaDropdown: default slot is missing");return}return Ct(he,{},[o,t&&Ct(an,{to:this.teleportTarget,disabled:this.teleportDisabled},[t])])}}),yo=we(Vl);const xl=Se({name:"VaDropdownContent",props:{noPadding:{type:Boolean,default:!1},background:{type:String,default:"background-secondary"},textColor:{type:String}},setup(e){const{getColor:t}=tt(),{textColorComputed:o}=Kt(ze(e,"background"));return{computedStyle:f(()=>({background:t(e.background,void 0,!0),color:o.value,padding:e.noPadding?0:void 0}))}}});function Pl(e,t,o,n,r,l){return x(),H("div",{class:"va-dropdown__content",style:Ce(e.computedStyle),role:"listbox"},[U(e.$slots,"default")],4)}const Il=ke(xl,[["render",Pl]]),El=we(Il),me=e=>[null,void 0,""].includes(e),bo=(e,t)=>{if(t.length===0)return e;const o=e[t[0]];return sn(o)?bo(o,t.slice(1)):t.length===1?o:void 0},Ll=(e,t)=>t in e?e[t]:(t=t.replace(/^\./,""),bo(e,t.split("."))),Ml=(e,t)=>{if(!(me(e)||typeof e!="object"||Array.isArray(e)))return t?typeof t=="string"?Ll(e,t):typeof t=="function"?t(e):e:e},So={options:{type:Array,default:()=>[]},textBy:{type:[String,Function],default:"text"},valueBy:{type:[String,Function],default:""},trackBy:{type:[String,Function],default:""},disabledBy:{type:[String,Function],default:"disabled"},groupBy:{type:[String,Function],default:"group"}};function wo(e){const t=(i,s)=>typeof i!="object"?i:Ml(i,s),o=i=>e.trackBy?t(i,e.trackBy):a(i),n=i=>typeof i!="object"?!1:t(i,e.disabledBy),r=i=>{const s=t(i,e.textBy);return["number","boolean"].includes(typeof s)?String(s):s},l=i=>{if(!(!i||typeof i!="object"))return t(i,e.groupBy)},a=i=>t(i,e.valueBy);return{getValue:a,getText:r,getDisabled:n,getTrackBy:o,getGroupBy:l}}const Oo={delay:{type:Number,default:0,validator:e=>e>=0}};function Nl(e,t){const o=ze(t,"delay")??0;if(!K(o))return e;const n=L(!0),r=L(),l=L(),a=L();return z(e,()=>{r.value=e.value;const i=setTimeout(()=>{a.value=r.value},K(o));n.value?(n.value=!1,a.value=e.value,l.value=e.value,clearTimeout(i),setTimeout(()=>n.value=!0,K(o))):a.value=l.value},{immediate:!0}),a}const{isParsablePositiveMeasure:Dl,parseSizeValue:Rt}=lo(),Ft=(e,t)=>{const o=Dl(e);return!o&&Le(`[va-virtual-scroller] ${t} should be number or parsable int greater or equal to 0. Provided: ${e}.`),o},Rl={horizontal:{type:Boolean,default:!1},itemSize:{type:[Number,String],default:0,validator:e=>Ft(e,"itemSize")},wrapperSize:{type:[Number,String],default:100,validator:e=>e==="auto"||Ft(e,"wrapperSize")}},Fl=(e,t)=>{const o=ue(),n=ue(),r=f(()=>e.horizontal?"clientWidth":"clientHeight"),l=f(()=>{var d;return e.wrapperSize==="auto"?((d=n.value)==null?void 0:d[r.value])||0:Rt(e.wrapperSize,a)}),a=L(16);ce("resize",()=>{a.value=parseFloat(getComputedStyle(document.documentElement).fontSize),u()},!0);const s=L(0),u=()=>{if(!o.value)return;const d=[],y=o.value.children.length;for(let w=0;w<y;w++){const S=o.value.children.item(w);S&&d.push(S[r.value])}s.value=y?Math.trunc(d.reduce((w,S)=>w+S,0)/(y-1)):0},c=jt();Wt(()=>{var d,h;o.value||(o.value=(h=(d=c==null?void 0:c.parent)==null?void 0:d.refs)==null?void 0:h.list),u()}),z(t,u),z(l,u);let p=0;const v=f(()=>{const d=Rt(e.itemSize,a),h=Math.max(d,s.value,1);return Math.abs(p/h*100-100)>5||p===0?(p=h,h):p});return{list:o,wrapper:n,itemSize:v,wrapperSize:l}},Hl={trackBy:{type:[String,Number,Function],default:""}},zl=e=>({getKey:(o,n,r)=>{if(e.trackBy&&o&&typeof o=="object"&&!At(e.trackBy)){const l=Array.isArray(o);let a;if(l&&!isNaN(+e.trackBy)&&(a=o[+e.trackBy]),l||(a=o[e.trackBy]),a||a===0)return a;Le(`${l?"Index":"Key"} '${e.trackBy}' wasn't found in provided ${l?"array":"object"}: `,o)}return At(e.trackBy)?e.trackBy(o):r}});const Wl=Se({name:"VaVirtualScroller",props:{...Hl,...Rl,items:{type:Array,default:()=>[]},bench:{type:Number,default:10,validator:e=>e>=0},disabled:{type:Boolean,default:!1},table:{type:Boolean,default:!1}},emits:["scroll:bottom"],setup:(e,{emit:t})=>{const o=L(0),n=f(()=>e.horizontal?"scrollLeft":"scrollTop"),r=()=>{a.value&&(o.value=a.value[n.value])};e.disabled||ce("scroll",r,!0);const{list:l,wrapper:a,itemSize:i,wrapperSize:s}=Fl(e,o),{getKey:u}=zl(e),c=(A,G,X)=>u(A,G,X);z(o,A=>{A+s.value===O.value&&t("scroll:bottom")});const p=f(()=>Math.max(0,Math.floor(o.value/i.value)-e.bench)),v=f(()=>{var A;return(A=e.items)!=null&&A.length?e.disabled?e.items.length:Math.min(e.items.length-p.value,Math.ceil(s.value/i.value)+e.bench*2):0}),d=f(()=>p.value+v.value),h=f(()=>{var A;return(A=e.items)!=null&&A.length?e.items.slice(p.value,d.value):[]}),y=f(()=>e.horizontal?"width":"height"),w=f(()=>e.table&&e.disabled),S=f(()=>({[y.value]:w.value||!s.value?void 0:`${s.value}px`})),C=je("va-virtual-scroller",()=>({...Pe(e,["horizontal"])})),O=f(()=>{var A;return(((A=e.items)==null?void 0:A.length)??0)*i.value}),k=f(()=>({[y.value]:w.value?void 0:`${O.value}px`})),b=f(()=>p.value*i.value),T=f(()=>({transform:`translate${e.horizontal?"X":"Y"}(${b.value}px)`})),$=f(()=>e.horizontal?"left":"top");return{containerStyleComputed:k,wrapperStyleComputed:S,wrapperClassComputed:C,listStyleComputed:T,currentListOffset:b,renderStartIndex:p,virtualScrollTo:A=>{var G;!A&&A!==0||(G=a.value)==null||G.scrollTo({[$.value]:A*i.value})},renderBuffer:h,uniqueKey:c,wrapper:a,list:l}}});function jl(e,t,o,n,r,l){return x(),H("div",{ref:"wrapper",class:ct(["va-virtual-scroller",e.wrapperClassComputed]),style:Ce(e.wrapperStyleComputed)},[U(e.$slots,"content",oe($e({containerStyleComputed:e.containerStyleComputed,listStyleComputed:e.listStyleComputed,renderBuffer:e.renderBuffer,uniqueKey:e.uniqueKey,currentListOffset:e.currentListOffset})),()=>[Ie("div",{class:"va-virtual-scroller__container",style:Ce(e.containerStyleComputed)},[Ie("div",{ref:"list",role:"list",class:"va-virtual-scroller__list",style:Ce(e.listStyleComputed)},[(x(!0),H(he,null,Me(e.renderBuffer,(a,i)=>U(e.$slots,"default",oe(J({key:e.uniqueKey(a,i)},{item:a,index:e.renderStartIndex+i})))),128))],4)],4)])],6)}const Kl=ke(Wl,[["render",jl]]),ql=we(Kl),Co=Xt(yo,["innerAnchorSelector","stateful","keyboardNavigation","modelValue"]),Ht={...Co,modelValue:{},closeOnChange:{type:Boolean,default:null},isOpen:{type:Boolean,default:void 0}},Ul=["update:isOpen"],Gl=function(e,t,o={}){const[n]=Yt("isOpen",e,t,!1),r=f(()=>e.closeOnChange!==null?e.closeOnChange:K(o.defaultCloseOnValueUpdate||!1));return z(()=>e.modelValue,()=>{r.value&&(n.value=!1)}),{dropdownProps:Jt(Co),isOpenSync:n}},Xl=e=>e.offsetTop,Yl=e=>e.offsetTop+e.offsetHeight,Jl=e=>e.offsetTop+e.offsetHeight/2,Ql=(e,t,o)=>{const n=t.offsetHeight,r=t.scrollTop,l=Xl(e)-t.offsetTop,a=Jl(e)-t.offsetTop,i=Yl(e)-t.offsetTop;if(o==="start")return l;if(o==="end")return i-n;if(o==="center")return a-n/2;if(o==="any"){if(l-r<0)return l;if(i-r>n)return i-n}},Zl=(e,t={scrollTarget:e.parentElement,verticalAlignment:"any",smooth:!1})=>{const o=t.scrollTarget||e.parentElement,n=Ql(e,o,t.verticalAlignment);n!==void 0&&o.scroll({top:n,behavior:t.smooth?"smooth":"auto"})};const _l=Se({name:"VaSelectOption",components:{VaIcon:dt},props:{...Ut,disabled:{type:Boolean,default:!1},option:{type:[Number,String,Boolean,Object],default:()=>({})},getText:{type:Function,required:!0},getTrackBy:{type:Function,required:!0},currentOption:{type:[String,Number,Boolean,Object],default:null},getSelectedState:{type:Function,required:!0},search:{type:String,default:""},highlightMatchedText:{type:Boolean,default:!0},inputFocused:{type:Boolean,default:!1},minSearchChars:{type:Number,default:0}},setup(e){const{getColor:t,getHoverColor:o}=tt(),n=f(()=>typeof e.option=="object"?e.option.icon:void 0),r=f(()=>t(e.color)),l=f(()=>e.getText(e.option)),a=f(()=>{const p={start:l.value,searchedSubString:"",end:""};if(!l.value||!e.search||!e.highlightMatchedText||e.search.length<e.minSearchChars)return p;const v=l.value.toLowerCase().indexOf(e.search.toLowerCase());if(v<0)return p;const d=l.value.slice(0,v),h=l.value.slice(v,v+e.search.length),y=l.value.slice(v+e.search.length);return{start:d,searchedSubString:h,end:y}}),i=f(()=>e.getSelectedState(e.option)),s=f(()=>me(e.currentOption)?!1:typeof e.option=="string"?e.option===e.currentOption:e.getTrackBy(e.currentOption)===e.getTrackBy(e.option)),u=je("va-select-option",()=>({selected:i.value})),c=f(()=>({color:i.value?t(e.color):"inherit",backgroundColor:s.value?o(t(e.color)):"transparent",cursor:e.disabled?"default":void 0,opacity:e.disabled?"var(--va-select-option-list-option-disabled-opacity)":void 0}));return{getColor:t,optionIcon:n,isSelected:i,optionStyle:c,optionClass:u,optionIconColor:r,optionTextSplitted:a}}}),er=["aria-selected"],tr={key:1,class:"va-select-option__highlighted"};function or(e,t,o,n,r,l){const a=ee("va-icon");return x(),H("div",{role:"option",class:ct(["va-select-option",e.optionClass]),style:Ce(e.optionStyle),"aria-selected":e.isSelected},[e.optionIcon?(x(),se(a,{key:0,size:"small",class:"va-select-option__icon",name:e.optionIcon},null,8,["name"])):te("",!0),Ve(" "+ie(e.optionTextSplitted.start)+" ",1),e.optionTextSplitted.searchedSubString?(x(),H("span",tr,ie(e.optionTextSplitted.searchedSubString),1)):te("",!0),Ve(" "+ie(e.optionTextSplitted.end)+" ",1),Gt(ve(a,{class:"va-select-option__selected-icon",size:"small",name:"va-check",color:e.optionIconColor},null,8,["color"]),[[un,e.isSelected]])],14,er)}const nr=ke(_l,[["render",or]]),lr=we(nr),rr=()=>{const e=ue({}),t=o=>n=>{if(n)return e.value[o]=n,String(o)};return cn(()=>{e.value={}}),{itemRefs:e,setItemRef:t}};const ar=Se({name:"VaSelectOptionList",components:{VaVirtualScroller:ql,VaSelectOption:lr},emits:["select-option","update:hoveredOption","no-previous-option-to-hover","scroll-bottom"],props:{...Ut,...ut,...So,...Oo,noOptionsText:{type:String,default:"Items not found"},getSelectedState:{type:Function,required:!0},multiple:{type:Boolean,default:!1},search:{type:String,default:""},tabindex:{type:[String,Number],default:0},hoveredOption:{type:[String,Number,Boolean,Object],default:null},virtualScroller:{type:Boolean,default:!0},highlightMatchedText:{type:Boolean,default:!0},minSearchChars:{type:Number,default:0},autoSelectFirstOption:{type:Boolean,default:!1},selectedTopShown:{type:Boolean,default:!1}},setup(e,{emit:t}){const o=ue(),n=()=>{var g;(g=o.value)==null||g.focus({preventScroll:!0})},r=f(()=>{var g;return((g=o.value)==null?void 0:g.clientHeight)??200}),l=()=>t("scroll-bottom"),a=g=>{const B=g.target;B&&B.scrollTop+B.clientHeight===B.scrollHeight&&l()},i=L(""),s=f(()=>e.hoveredOption??null),u=(g,B)=>{t("update:hoveredOption",g),i.value=B},{getText:c,getGroupBy:p,getTrackBy:v,getDisabled:d}=wo(e),h=f(()=>{var g;const B=(g=e.options)==null?void 0:g.find(I=>e.getSelectedState(I));return B?c(B):""}),y=f(()=>{var g;return h.value.toLowerCase()===((g=e.search)==null?void 0:g.toLowerCase())}),w=f(()=>!e.search||e.search.length<e.minSearchChars||y.value?e.options:e.options.filter(g=>{const B=c(g).toUpperCase(),I=e.search.toUpperCase();return B.includes(I)})),S=f(()=>w.value.reduce((g,B)=>{const I=p(B);return I?(g[I]||(g[I]=[]),g[I].push(B)):g._noGroup.push(B),g},{_noGroup:[]})),C=Nl(S,e),O=g=>!me(g),k=g=>{g===s.value||O(g)&&d(g)||u(g??null,"mouse")},b=g=>{u(g??null,"keyboard")},T=()=>{const g=R.value&&typeof R.value=="object"?{...R.value}:R.value;t("select-option"),e.selectedTopShown&&k(g)},$=f(()=>Object.values(C.value).flat()),P=f(()=>w.value.some(g=>p(g))?$.value:w.value),A=f(()=>P.value.findIndex(g=>O(s.value)&&v(g)===v(s.value))),G=f(()=>({...Pe(e,["getSelectedState","color","search","highlightMatchedText","minSearchChars"]),getText:c,getTrackBy:v})),X=(g,B=!1)=>{const I=[...P.value||[]],Re=B?I.reverse():I,Fe=B?g*-1-1:g;return Re.slice(Fe).find(He=>!d(He))},R=f(()=>{const g=A.value-1,B=P.value[g];if(O(B)&&!(g===0&&d(B)))return X(A.value-1,!0)}),Z=g=>{k(g),t("select-option")},V=g=>{e.selectedTopShown||k(g)},W=g=>{e.selectedTopShown&&k(g)},j=()=>{if(!O(s.value)){b(X(0,!0));return}O(R.value)?b(R.value):t("no-previous-option-to-hover")},ae=()=>{if(!O(s.value)){q();return}const g=A.value+1,B=P.value[g];O(B)&&!(g===P.value.length-1&&d(B))&&b(X(A.value+1))},q=()=>b(X(0)),{itemRefs:Xe,setItemRef:lt}=rr(),Ye=ue(),Je=g=>{var B;if(!O(g))return;const I=Ee(Xe.value[v(g)]);I&&Zl(I),e.virtualScroller&&((B=Ye.value)==null||B[0].virtualScrollTo(A.value))},ne={focusPreviousOption:j,focusNextOption:ae,focusFirstOption:q,scrollToOption:Je,focus:n};return z(()=>e.hoveredOption,g=>{(!i.value||i.value==="keyboard")&&O(g)&&Je(g)}),z(w,()=>{e.autoSelectFirstOption&&q()},{immediate:!0}),{root:o,virtualScrollerRef:Ye,rootHeight:r,optionGroups:C,filteredOptions:w,selectOptionProps:G,currentOptionComputed:s,onScroll:a,getTrackBy:v,setItemRef:lt,getDisabled:d,selectHoveredOption:T,handleMouseMove:V,handleMouseEnter:W,updateHoveredOption:k,handleScrollToBottom:l,selectOption:Z,...ne}}}),sr=["tabindex","aria-multiselectable"],ir={key:0,class:"va-select-option-list__group-name",role:"presentation"},ur={key:0,class:"va-select-option-list--empty"};function cr(e,t,o,n,r,l){const a=ee("va-select-option"),i=ee("va-virtual-scroller");return x(),H("div",{ref:"root",class:"va-select-option-list",tabindex:e.tabindex,onKeydown:[t[0]||(t[0]=N(E((...s)=>e.focusPreviousOption&&e.focusPreviousOption(...s),["stop","prevent"]),["up"])),t[1]||(t[1]=N(E((...s)=>e.focusPreviousOption&&e.focusPreviousOption(...s),["stop","prevent"]),["left"])),t[2]||(t[2]=N(E((...s)=>e.focusNextOption&&e.focusNextOption(...s),["stop","prevent"]),["down"])),t[3]||(t[3]=N(E((...s)=>e.focusNextOption&&e.focusNextOption(...s),["stop","prevent"]),["right"])),t[4]||(t[4]=N(E((...s)=>e.selectHoveredOption&&e.selectHoveredOption(...s),["stop","prevent"]),["enter"])),t[5]||(t[5]=N(E((...s)=>e.selectHoveredOption&&e.selectHoveredOption(...s),["stop","prevent"]),["space"]))],onScrollPassive:t[6]||(t[6]=(...s)=>e.onScroll&&e.onScroll(...s)),role:"listbox","aria-multiselectable":e.$props.multiple},[(x(!0),H(he,null,Me(e.optionGroups,(s,u)=>(x(),H(he,{key:u},[u!=="_noGroup"?(x(),H("span",ir,ie(u),1)):te("",!0),e.$props.virtualScroller?(x(),se(i,{key:1,ref_for:!0,ref:"virtualScrollerRef",items:s,"track-by":e.getTrackBy,"wrapper-size":e.rootHeight,"onScroll:bottom":e.handleScrollToBottom},{default:le(({item:c,index:p})=>[U(e.$slots,"default",oe($e({option:c,index:p,selectOption:e.selectOption})),()=>[ve(a,J({option:c,"current-option":e.currentOptionComputed,disabled:e.getDisabled(c)},e.selectOptionProps,{onClick:E(e.selectHoveredOption,["stop"]),onMouseenter:v=>e.handleMouseEnter(c),onMousemove:v=>e.handleMouseMove(c)}),null,16,["option","current-option","disabled","onClick","onMouseenter","onMousemove"])])]),_:2},1032,["items","track-by","wrapper-size","onScroll:bottom"])):(x(!0),H(he,{key:2},Me(s,(c,p)=>U(e.$slots,"default",oe(J({key:e.getTrackBy(c)},{option:c,index:p,selectOption:e.selectOption})),()=>[ve(a,J({ref_for:!0,ref:e.setItemRef(e.getTrackBy(c)),"current-option":e.currentOptionComputed,option:c,disabled:e.getDisabled(c)},e.selectOptionProps,{onClick:E(e.selectHoveredOption,["stop"]),onMouseenter:v=>e.handleMouseEnter(c),onMousemove:v=>e.handleMouseMove(c)}),null,16,["current-option","option","disabled","onClick","onMouseenter","onMousemove"])])),128))],64))),128)),e.filteredOptions.length?te("",!0):(x(),H("div",ur,ie(e.noOptionsText),1))],40,sr)}const dr=ke(ar,[["render",cr]]),fr=we(dr);const pr=Se({name:"VaSelectContent",components:{VaBadge:Fn,VaIcon:dt},props:{...Qt,ariaAttributes:{type:Object},value:{type:Array,required:!0},valueString:{type:String},placeholder:{type:String,default:""},tabindex:{type:[String,Number],default:0},hiddenSelectedOptionsAmount:{type:Number,default:0},isAllOptionsShown:{type:Boolean,default:!1},autocomplete:{type:Boolean,default:!1},focused:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},getText:{type:Function,required:!0},autocompleteInputValue:{type:String,default:""}},emits:["toggle-hidden","autocomplete-input","focus-prev","focus-next","select-option","delete-last-selected"],setup(e,{emit:t}){const o=L(),n=f(()=>e.placeholder&&!e.valueString),r=()=>t("toggle-hidden"),{value:l,focused:a}=dn(e),i=f({get:()=>e.autocompleteInputValue,set:u=>t("autocomplete-input",u)});return z(a,u=>{var c,p;!e.autocomplete||!u||(i.value?(c=o.value)==null||c.setSelectionRange(0,i.value.length):(p=o.value)==null||p.focus())}),{getIcon:u=>typeof u=="object"?u.icon:void 0,isPlaceholder:n,toggleHiddenOptionsState:r,autocompleteInputValueComputed:i,autocompleteInput:o,handleBackspace:u=>{e.multiple&&l.value.length&&u.key==="Backspace"&&!i.value&&t("delete-last-selected")}}}}),vr={key:0,class:"va-select-content__autocomplete"},mr=["placeholder","disabled","readonly"],hr={key:1,class:"va-select-content__placeholder"},gr=["placeholder"];function yr(e,t,o,n,r,l){const a=ee("va-icon"),i=ee("va-badge");return x(),H(he,null,[e.$props.autocomplete?(x(),H("div",vr,[e.$props.multiple||e.$slots.content?U(e.$slots,"content",oe(J({key:0},{value:e.$props.value,valueString:e.$props.valueString,tabindex:e.$props.tabindex,ariaAttributes:e.ariaAttributes})),()=>[e.value.length?(x(!0),H(he,{key:0},Me(e.value,(s,u)=>(x(),H("span",{key:e.$props.getText(s)},[e.getIcon(s)?(x(),se(a,{key:0,size:"small",class:"va-select-option__icon",name:e.getIcon(s)},null,8,["name"])):te("",!0),Ve(" "+ie(`${e.$props.getText(s)}${u+1===e.value.length?"":", "}`),1)]))),128)):(x(),H(he,{key:1},[Ve(ie(e.$props.valueString),1)],64))]):te("",!0),Gt(Ie("input",J(e.ariaAttributes,{ref:"autocompleteInput","onUpdate:modelValue":t[0]||(t[0]=s=>e.autocompleteInputValueComputed=s),placeholder:e.$props.placeholder,disabled:e.$props.disabled,readonly:e.$props.readonly,autocomplete:"off","aria-autocomplete":"list",onKeydown:[t[1]||(t[1]=N(E(s=>e.$emit("focus-prev"),["stop","prevent"]),["up"])),t[2]||(t[2]=N(E(s=>e.$emit("focus-next"),["stop","prevent"]),["down"])),t[3]||(t[3]=N(E(s=>e.$emit("select-option"),["stop","prevent"]),["enter"])),t[4]||(t[4]=(...s)=>e.handleBackspace&&e.handleBackspace(...s))]}),null,16,mr),[[fn,e.autocompleteInputValueComputed]])])):e.isPlaceholder?(x(),H("span",hr,[Ie("input",J(e.ariaAttributes,{placeholder:e.$props.placeholder,readonly:""}),null,16,gr)])):U(e.$slots,"content",oe(J({key:2},{valueString:e.$props.valueString,value:e.$props.value,tabindex:e.$props.tabindex,ariaAttributes:e.ariaAttributes})),()=>[e.getIcon(e.value[0])?(x(),se(a,{key:0,size:"small",class:"va-select-option__icon",name:e.getIcon(e.value[0])},null,8,["name"])):te("",!0),Ve(" "+ie(e.$props.valueString),1)]),U(e.$slots,"hiddenOptionsBadge",oe($e({amount:e.$props.hiddenSelectedOptionsAmount,isShown:e.$props.isAllOptionsShown,toggle:e.toggleHiddenOptionsState})),()=>[e.$props.hiddenSelectedOptionsAmount&&!e.$props.isAllOptionsShown?(x(),se(i,{key:0,class:"va-select-content__state-icon",color:"info",text:`+${e.$props.hiddenSelectedOptionsAmount}`,tabindex:e.$props.tabindex,onClick:E(e.toggleHiddenOptionsState,["stop"])},null,8,["text","tabindex","onClick"])):te("",!0)]),U(e.$slots,"hideOptionsButton",oe($e({isShown:e.$props.isAllOptionsShown,toggle:e.toggleHiddenOptionsState})),()=>[e.$props.isAllOptionsShown?(x(),se(a,{key:0,role:"button",class:"va-select-content__state-icon",size:"small",name:"reply",tabindex:e.$props.tabindex,onClick:E(e.toggleHiddenOptionsState,["stop"])},null,8,["tabindex","onClick"])):te("",!0)])],64)}const br=ke(pr,[["render",yr]]),Sr=we(br),wr={maxVisibleOptions:{type:Number,default:0}},Or=(e,t)=>{const o=ze(e,"modelValue"),n=L(!1),r=L([]),l=L([]),a=f(()=>l.value.length),i=f(()=>[...r.value,...l.value]),s=f(()=>!e.maxVisibleOptions||n.value?i.value:r.value);return z(o,()=>{if(!Array.isArray(o.value)){r.value=[t(o.value)],l.value=[];return}const c=o.value.filter(p=>!me(p)).map(t);e.maxVisibleOptions?(r.value=c.slice(0,e.maxVisibleOptions),l.value=c.slice(e.maxVisibleOptions)):(r.value=[...c],l.value=[])},{immediate:!0}),{toggleHiddenOptionsState:()=>n.value=!n.value,isAllOptionsShown:n,visibleSelectedOptions:s,hiddenSelectedOptionsAmount:a,allSelectedOptions:i}},Cr={dropdownIcon:{type:[String,Object],default:()=>({open:"va-arrow-down",close:"va-arrow-up"}),validator:e=>typeof e=="string"?!0:Object.entries(e).every(([t,o])=>["open","close"].includes(t)&&typeof o=="string")}},$r=(e,t)=>{const o=f(()=>e.dropdownIcon?typeof e.dropdownIcon=="string"?e.dropdownIcon:t.value?e.dropdownIcon.close:e.dropdownIcon.open:""),{getHoverColor:n,getColor:r}=tt(),l=f(()=>r("secondary")),a=f(()=>e.readonly?n(l.value):l.value);return{toggleIcon:o,toggleIconColor:a}},Ar={separator:{type:String,default:", "}},kr=(e,t,o)=>f(()=>{var n;return(n=t.value)!=null&&n.length&&t.value.map(o).join(e.separator)||e.clearValue}),Br={autocomplete:{type:Boolean,default:!1}},Tr=(e,t,o,n,r)=>{const l=i=>i!=null&&i.length?r(i.at(-1)):"";z(o,(i,s)=>{if(!t.autocomplete)return;const u=l(i),c=l(s);u!==c&&(e.value=t.multiple?"":u,t.multiple||(n.value=!1))}),z(e,i=>{i&&i!==l(o.value)&&(n.value=!0)});const a=()=>{e.value=t.multiple?"":l(o.value)};return z(n,(i,s)=>{t.autocomplete&&(!i||s)&&a()}),e},Vr=()=>({popupId:`combobox-controls-${hn()}`}),xr={maxSelections:{type:[Number,String],default:void 0}};function Pr(e,t){return{exceedsMaxSelections:()=>t.value===void 0||isNaN(+t.value)?!1:e.value.length>=Number(t.value),addOption:r=>[...e.value,r]}}const zt=Xt(Zt),Ir=Se({name:"VaSelect",components:{VaSelectContent:Sr,VaSelectOptionList:fr,VaIcon:dt,VaDropdown:yo,VaDropdownContent:El,VaInputWrapper:Zt},emits:["update:modelValue","update-search","create-new","scroll-bottom","update:search",...Ul,...gn,...wn],props:{...zt,...ut,...So,...yn,...pn,...xr,...On,...Qt,...wr,...Cr,...Oo,...Ar,...Br,...Ht,modelValue:{type:[String,Number,Array,Object,Boolean],default:""},placement:{...Ht.placement,default:"bottom"},allowCreate:{type:[Boolean,String],default:!1,validator:e=>[!0,!1,"unique"].includes(e)},color:{type:String,default:"primary"},multiple:{type:Boolean,default:!1},searchable:{type:Boolean,default:!1},width:{type:String,default:"100%"},maxHeight:{type:String,default:"256px"},noOptionsText:{type:String,default:"$t:noOptions"},hideSelected:{type:Boolean,default:!1},tabindex:{type:[String,Number],default:0},virtualScroller:{type:Boolean,default:!1},selectedTopShown:{type:Boolean,default:!1},highlightMatchedText:{type:Boolean,default:!0},minSearchChars:{type:Number,default:0},autoSelectFirstOption:{type:Boolean,default:!1},placeholder:{type:String,default:""},searchPlaceholderText:{type:String,default:"$t:search"},ariaLabel:{type:String,default:"$t:select"},ariaSearchLabel:{type:String,default:"$t:optionsFilter"},ariaClearLabel:{type:String,default:"$t:reset"},search:{type:String,default:void 0}},setup(e,{emit:t,slots:o}){const{tp:n,t:r}=qt(),l=ue(),a=ue(),i=ue(),s=bn(a),{getValue:u,getText:c,getTrackBy:p}=wo(e),v=()=>t("scroll-bottom"),[d]=Yt("search",e,t,""),h=f(()=>e.searchable||e.allowCreate&&!e.autocomplete);z(d,m=>{t("update-search",m),e.autocomplete||(q.value=null)});const y=m=>{if(me(m)||typeof m=="object")return m;const F=e.options.find(D=>m===u(D));return F===void 0?(Le(`[VaSelect]: can not find option in options list (${JSON.stringify(e.options)}) by provided value (${JSON.stringify(m)})!`),m):F},{toggleHiddenOptionsState:w,isAllOptionsShown:S,visibleSelectedOptions:C,hiddenSelectedOptionsAmount:O,allSelectedOptions:k}=Or(e,y),b=f({get(){if(e.multiple)return k.value;const m=y(e.modelValue);return Array.isArray(m)&&(Le("Model value should be a string, number, boolean or an object for a single Select."),m.length)?m.at(-1):m},set(m){Array.isArray(m)?t("update:modelValue",m.map(u)):t("update:modelValue",u(m))}}),T=kr(e,C,c),{canBeCleared:$,clearIconProps:P,onFocus:A,onBlur:G}=Cn(e,b),X=f(()=>$.value?e.multiple&&Array.isArray(b.value)?!!b.value.length:!0:!1),R=f(()=>e.options?e.selectedTopShown?e.options.slice().sort((m,F)=>{const D=Z(m),M=Z(F);return D&&M?0:D&&!M?-1:1}):e.hideSelected?e.options.filter(m=>!Z(m)):e.options:[]),Z=m=>me(b.value)?!1:Array.isArray(b.value)?!me(b.value.find(F=>V(F,m))):V(b.value,m),V=(m,F)=>{const D=u(m),M=u(F);return D===M?!0:typeof D=="string"&&typeof M=="string"?D===M:D===null||M===null?!1:typeof D=="object"&&typeof M=="object"?p(D)===p(M):!1},W=m=>Array.isArray(m.value),j=m=>{if(q.value===null){He();return}if(h.value&&(d.value=""),e.multiple&&W(b)){const{exceedsMaxSelections:F,addOption:D}=Pr(b,L(e.maxSelections));if(Z(m))b.value=b.value.filter(at=>!V(m,at));else{if(F())return;b.value=D(m)}}else b.value=typeof m!="object"?m:{...m},He();wt()},ae=()=>{var m;const F=(m=e.options)==null?void 0:m.some(M=>[d.value,Oe.value].includes(c(M)));!((e.allowCreate==="unique"||e.autocomplete)&&F)&&(t("create-new",d.value||Oe.value),d.value="",Oe.value="")},q=L(null),Xe=()=>{if(!me(q.value)){if(!ne.value){Re();return}j(q.value)}},lt=()=>{const m=!!e.allowCreate&&(d.value||Oe.value);q.value!==null?Xe():m&&ae()},Ye=()=>{var m;return(m=l.value)==null?void 0:m.focusPreviousOption()},Je=()=>{var m;return(m=l.value)==null?void 0:m.focusNextOption()},{isOpenSync:ne,dropdownProps:g}=Gl(e,t,{defaultCloseOnValueUpdate:f(()=>!e.multiple)}),B=f(()=>({...g.value,closeOnContentClick:!1,stateful:!1,offset:[1,0],keepAnchorWidth:!0,keyboardNavigation:!0,innerAnchorSelector:".va-input-wrapper__field"})),I=f({get:()=>ne.value,set:m=>{m?Re():Fe()}}),Re=()=>{e.disabled||e.readonly||(ne.value=!0,Bo(),$o())},Fe=()=>{ne.value=!1,e.autocomplete||(d.value=""),Te(()=>{Ot(),s.focusIfNothingIfFocused()})},He=()=>{Fe(),s.value=!0},ht=()=>{var m;(m=i.value)==null||m.focus()},gt=()=>{var m,F;(m=l.value)==null||m.focus(),!e.modelValue&&((F=l.value)==null||F.focusFirstOption())},$o=async()=>{await Te(),h.value?ht():gt()},Ao=()=>{I.value||(G(),s.value?s.value=!1:Ot())},rt=f(()=>e.disabled?-1:e.tabindex),ko=f(()=>e.disabled||e.autocomplete?-1:0),Bo=()=>{const m=b.value;if(typeof m!="object"&&Array.isArray(m)&&!m.length)return;const D=Array.isArray(m)?m[m.length-1]:m;q.value=D,Te(()=>{var M;return(M=l.value)==null?void 0:M.scrollToOption(D)})};let pe="",yt;const To=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Enter"," "],Vo=m=>{if(To.some(M=>M===m.key))return;const F=m.key.length===1,D=m.key==="Backspace"||m.key==="Delete";if(clearTimeout(yt),D?pe=pe?pe.slice(0,-1):"":F&&(pe+=m.key),h.value){d.value=pe;return}if(pe){const M=e.options.find(at=>c(at).toLowerCase().startsWith(pe.toLowerCase()));M&&(q.value=M)}yt=setTimeout(()=>{pe=""},1e3)},xo=f(()=>({...Pe(e,["textBy","trackBy","groupBy","valueBy","disabledBy","color","virtualScroller","highlightMatchedText","minSearchChars","delay","selectedTopShown"]),autoSelectFirstOption:e.autoSelectFirstOption||e.autocomplete,search:d.value||Oe.value,tabindex:rt.value,selectedValue:b.value,options:R.value,getSelectedState:Z,noOptionsText:n(e.noOptionsText)})),{toggleIcon:Po,toggleIconColor:Io}=$r(e,ne),Eo=f(()=>s.value||ne.value),Lo=je("va-select-anchor",()=>({nowrap:!!(e.maxVisibleOptions&&!o.content)})),Mo=Jt(zt),No=f(()=>({...Mo.value,error:Wo.value,errorMessages:jo.value,focused:Eo.value,"aria-label":e.ariaLabel||(e.modelValue?`${r("selectedOption")}: ${e.modelValue}`:r("noSelectedOption"))})),Do=f(()=>({...Pe(e,["placeholder","autocomplete","multiple","disabled","readonly"]),tabindex:rt.value,value:C.value,valueString:T.value,hiddenSelectedOptionsAmount:O.value,isAllOptionsShown:S.value,focused:s.value,autocompleteInputValue:Oe.value,getText:c})),Oe=Tr(d,e,C,ne,c),Ro=m=>Oe.value=m,bt=()=>{e.disabled||vn(Ee(a.value))},Fo=()=>{I.value&&(I.value=!1),Te(()=>{e.disabled||mn(Ee(a.value))})},St=()=>Ko(()=>{e.multiple?b.value=Array.isArray(e.clearValue)?e.clearValue:[]:b.value=e.clearValue,d.value="",t("clear"),qo(),Te(()=>{s.value=!0})}),wt=m=>{e.autocomplete&&!e.disabled&&!e.readonly&&(m==null||m.stopImmediatePropagation(),s.value=!0,ne.value=!0)},Ho=m=>{e.disabled||e.readonly||m.code==="Space"&&e.autocomplete||(I.value=!I.value)},zo=()=>{Array.isArray(b.value)&&(b.value=b.value.slice(0,-1))},{validate:Ot,computedError:Wo,computedErrorMessages:jo,withoutValidation:Ko,resetValidation:qo}=Sn(e,t,{reset:St,focus:bt,value:b});return{...Vr(),input:a,optionList:l,searchBar:i,reset:St,focus:bt,blur:Fo,toggleDropdown:Ho,deleteLastSelected:zo,focusAutocompleteInput:wt,tp:n,t:r,onInputFocus:A,onInputBlur:Ao,focusOptionList:gt,focusSearchBar:ht,searchInput:d,showSearchInput:h,hoveredOption:q,tabIndexComputed:rt,valueString:T,showClearIcon:X,toggleIcon:Po,selectOption:j,selectOrAddOption:lt,selectHoveredOption:Xe,focusPreviousOption:Ye,focusNextOption:Je,showDropdownContentComputed:I,handleDropdownOpen:Re,handleDropdownClose:Fe,hideAndFocus:He,toggleIconColor:Io,onHintedSearch:Vo,onScrollBottom:v,clearIconProps:P,dropdownPropsComputed:B,visibleSelectedOptions:C,optionsListPropsComputed:xo,toggleHiddenOptionsState:w,setAutocompleteValue:Ro,inputWrapperPropsComputed:No,inputWrapperClassComputed:Lo,selectContentPropsComputed:Do,openSelectButtonTabIndexComputed:ko,getOptionByValue:y,compareOptions:V,getText:c}}});function Er(e,t,o,n,r,l){const a=ee("va-icon"),i=ee("va-select-content"),s=ee("va-input-wrapper"),u=ee("va-select-option-list"),c=ee("va-dropdown-content"),p=ee("va-dropdown");return x(),se(p,J({ref:"dropdown",modelValue:e.showDropdownContentComputed,"onUpdate:modelValue":t[4]||(t[4]=v=>e.showDropdownContentComputed=v),class:"va-select va-select__dropdown va-select-dropdown"},e.dropdownPropsComputed,{role:"combobox","inner-anchor-selector":".va-input-wrapper__field"}),{anchor:le(()=>[ve(s,J(e.inputWrapperPropsComputed,{ref:"input",class:["va-select__anchor va-select-anchor__input",e.inputWrapperClassComputed],"aria-haspopup":"listbox","model-value":e.valueString,readonly:!0,"aria-label":e.$props.ariaLabel,"aria-controls":e.popupId,"aria-owns":e.popupId,onFocus:e.onInputFocus,onBlur:e.onInputBlur,onKeydown:[N(e.toggleDropdown,["enter"]),N(E(e.toggleDropdown,["stop","prevent"]),["space"])]}),kt({icon:le(()=>[e.showClearIcon?(x(),se(a,J({key:0,role:"button","aria-label":e.tp(e.$props.ariaClearLabel)},e.clearIconProps,{onClick:E(e.reset,["stop"]),onKeydown:[N(E(e.reset,["stop"]),["enter"]),N(E(e.reset,["stop"]),["space"])]}),null,16,["aria-label","onClick","onKeydown"])):te("",!0)]),appendInner:le(()=>[ve(a,{color:e.toggleIconColor,name:e.toggleIcon,class:"va-select__toggle-icon",role:"button",tabindex:e.openSelectButtonTabIndexComputed,"aria-expanded":e.showDropdownContentComputed},null,8,["color","name","tabindex","aria-expanded"])]),default:le(({ariaAttributes:v})=>[ve(i,J(e.selectContentPropsComputed,{ariaAttributes:v,onToggleHidden:e.toggleHiddenOptionsState,onAutocompleteInput:e.setAutocompleteValue,onFocusPrev:e.focusPreviousOption,onFocusNext:e.focusNextOption,onSelectOption:e.selectOrAddOption,onDeleteLastSelected:e.deleteLastSelected}),kt({_:2},[Me(e.$slots,(d,h)=>({name:h,fn:le(y=>[U(e.$slots,h,oe($e(y)))])}))]),1040,["ariaAttributes","onToggleHidden","onAutocompleteInput","onFocusPrev","onFocusNext","onSelectOption","onDeleteLastSelected"])]),_:2},[Me(e.$slots,(v,d)=>({name:d,fn:le(h=>[U(e.$slots,d,oe($e(h)))])}))]),1040,["class","model-value","aria-label","aria-controls","aria-owns","onFocus","onBlur","onKeydown"])]),default:le(()=>[ve(c,{class:"va-select-dropdown__content",style:Ce({width:e.$props.width}),onKeydown:N(e.hideAndFocus,["esc"]),role:"dialog"},{default:le(()=>[e.showSearchInput?(x(),se(s,{key:0,ref:"searchBar",class:"va-select-dropdown__content-search-input",modelValue:e.searchInput,"onUpdate:modelValue":t[0]||(t[0]=v=>e.searchInput=v),"aria-label":e.tp(e.$props.ariaSearchLabel),tabindex:e.tabIndexComputed,placeholder:e.tp(e.$props.searchPlaceholderText),preset:"bordered",onKeydown:[N(E(e.focusPreviousOption,["stop","prevent"]),["up"]),N(E(e.focusPreviousOption,["stop","prevent"]),["left"]),N(E(e.focusNextOption,["stop","prevent"]),["down"]),N(E(e.focusNextOption,["stop","prevent"]),["right"]),N(E(e.selectOrAddOption,["prevent"]),["enter"])],onFocus:t[1]||(t[1]=v=>e.hoveredOption=null)},null,8,["modelValue","aria-label","tabindex","placeholder","onKeydown"])):te("",!0),ve(u,J({ref:"optionList",class:"va-select-dropdown__options-wrapper",hoveredOption:e.hoveredOption,"onUpdate:hoveredOption":t[2]||(t[2]=v=>e.hoveredOption=v),style:{maxHeight:e.$props.maxHeight},id:e.popupId},e.optionsListPropsComputed,{onSelectOption:e.selectHoveredOption,onNoPreviousOptionToHover:e.focusSearchBar,onKeydown:[t[3]||(t[3]=N(E(v=>e.searchBar&&e.searchBar.focus(),["stop","prevent"]),["tab"])),e.onHintedSearch],onScrollBottom:e.onScrollBottom}),{default:le(v=>[U(e.$slots,"option",oe($e(v||{})))]),_:3},16,["hoveredOption","style","id","onSelectOption","onNoPreviousOptionToHover","onKeydown","onScrollBottom"])]),_:3},8,["style","onKeydown"])]),_:3},16,["modelValue"])}const Lr=ke(Ir,[["render",Er]]),Fr=we(Lr);export{Fr as V,wo as a,So as u};
