import{a as N,b as V,c as W,d as A,j as O}from"./chunk-PCUFHY27.js";import{$ as I,$a as F,Ba as p,Ea as x,Fa as U,Ga as S,Ha as y,Ia as b,La as n,Ma as l,Na as T,Oa as C,Qa as u,Ra as m,Sa as s,Ua as g,V as L,Z as _,_ as f,a as R,aa as D,bb as k,na as E,ta as a,tb as M,ub as K}from"./chunk-6BWRTQLS.js";var B=o=>({"bg-blue-400":o});function Y(o,c){if(o&1){let i=C();n(0,"li",25),u("click",function(){let r=_(i).$implicit,d=m();return f(d.KEYWORDS[r.id].selected=!d.KEYWORDS[r.id].selected)}),n(1,"div",26)(2,"input",27),u("ngModelChange",function(t){let d=_(i).$implicit,h=m();return f(h.KEYWORDS[d.id].selected=t)}),l(),n(3,"a",28),s(4),l()(),n(5,"span"),s(6),l()()}if(o&2){let i=c.$implicit,e=m();p("ngClass",k(5,B,i.selected)),a(2),p("ngModel",e.KEYWORDS[i.id].selected),a(1),p("href","https://google.com/search?q="+i.keyword.replace(" ","+"),E),a(1),g(" ",i.keyword," "),a(2),g(" ",i.volume," ")}}function P(o,c){o&1&&(n(0,"li"),s(1,"All keywords have been classified"),l())}function j(o,c){if(o&1){let i=C();n(0,"div",26)(1,"button",11),u("click",function(){_(i);let t=m();return f(t.onClickButtonMove(!0))}),s(2," up "),l(),n(3,"button",11),u("click",function(){_(i);let t=m();return f(t.onClickButtonMove())}),s(4," down "),l()()}if(o&2){let i=m();a(1),p("disabled",i.currentURLID<2||i.currentURLID===i.FilteredURLs[1].id),a(2),p("disabled",i.currentURLID===i.FilteredURLs[0].id||i.currentURLID===i.FilteredURLs[i.FilteredURLs.length-1].id)}}function $(o,c){if(o&1&&s(0),o&2){let i=m(2);g(" ",i.FilteredURLs[0].path,"/")}}function H(o,c){if(o&1){let i=C();n(0,"li",29),u("click",function(){let r=_(i).$implicit,d=m();return f(d.onClickURL(r.id))}),n(1,"div",26),x(2,$,1,1),s(3),l(),n(4,"span"),s(5),l()()}if(o&2){let i=c.$implicit,e=c.$index,t=m();p("ngClass",t.currentURLID===i.id?"bg-blue-300 dark:bg-blue-400":""),a(2),U(2,e>0?2:-1),a(1),g("",i.path," "),a(2),g(" ",i.volume," ")}}function J(o,c){if(o&1){let i=C();n(0,"button",30),u("click",function(){_(i);let t=m();return f(t.onClickButtonRemoveURL())}),s(1," Remove URL "),l()}}function q(o,c){if(o&1){let i=C();n(0,"li",31)(1,"div",26)(2,"button",30),u("click",function(){let r=_(i).$implicit,d=m();return f(d.onClickButtonRemoveKeywordFromURL(r.id))}),I(),n(3,"svg",32),T(4,"polyline",33)(5,"path",34)(6,"line",35)(7,"line",36),l()(),D(),n(8,"a",28),s(9),l()(),n(10,"span"),s(11),l()()}if(o&2){let i=c.$implicit;p("ngClass",k(4,B,i.selected)),a(8),p("href","https://google.com/search?q="+i.keyword.replace(" ","+"),E),a(1),g(" ",i.keyword," "),a(2),g(" ",i.volume," ")}}function z(o,c){o&1&&(n(0,"li"),s(1,"All keywords have been classified"),l())}var te=(()=>{let c=class c{constructor(){this.blog_structure=!1,this.currentURLID=0,this.KEYWORDS=[],this.STRUCTURE=[],this.INPUT_SEARCH="",this.INPUT_NEW=""}get disableButtonAddKeywordToURL(){return!this.FilteredKeywords.some(e=>e.selected)}get type(){return this.blog_structure?"Informational":"Transactional"}get FilteredKeywords(){let e=this.KEYWORDS.filter(t=>t.type===this.type&&t.url==="");return this.INPUT_SEARCH!==""&&(e=e.filter(t=>t.keyword.includes(this.INPUT_SEARCH))),e}get FilteredURLs(){return this.STRUCTURE.filter(e=>e.type===this.type)}get AssignedKeywords(){return this.KEYWORDS.filter(e=>e.url===this.STRUCTURE[this.currentURLID].path)}ngOnInit(){this.KEYWORDS=JSON.parse(localStorage.getItem("keywords")||""),this.STRUCTURE=JSON.parse(localStorage.getItem("structure")||"")}onClickButtonAddURL(){let e=this.STRUCTURE.length;console.log(e);let t={id:e,path:this.INPUT_NEW,type:this.type,volume:0};this.STRUCTURE.push(t),this.currentURLID=e,this.INPUT_NEW="",this.onUpdateLocalhost()}onClickButtonAddKeywordToURL(){let e=0;this.FilteredKeywords.forEach(t=>{this.KEYWORDS[t.id].selected&&(this.KEYWORDS[t.id].url=this.STRUCTURE[this.currentURLID].path,e+=t.volume),this.KEYWORDS[t.id].selected=!1}),this.INPUT_SEARCH="",this.STRUCTURE[this.currentURLID].volume=e,this.onUpdateLocalhost()}onClickButtonMove(e=!1){let t=this.FilteredURLs.findIndex(w=>w.id===this.currentURLID),r=R({},this.FilteredURLs[t]),d=1;e?t--:t++;let h=R({},this.FilteredURLs[t]);this.STRUCTURE[r.id]=R({},h),this.STRUCTURE[h.id]=R({},r),this.currentURLID=h.id,this.STRUCTURE.forEach((w,v)=>this.STRUCTURE[v].id=v),this.onUpdateLocalhost()}onClickButtonRemoveKeywordFromURL(e){this.KEYWORDS[e].url="",this.STRUCTURE[this.currentURLID].volume-=this.KEYWORDS[e].volume}onClickButtonRemoveURL(){let e=this.FilteredURLs.findIndex(t=>t.id===this.currentURLID);this.AssignedKeywords.forEach(t=>this.KEYWORDS[t.id].url=""),this.STRUCTURE.splice(this.currentURLID,1),this.STRUCTURE.forEach((t,r)=>this.STRUCTURE[r].id=r),this.currentURLID=this.FilteredURLs[e-1].id,this.onUpdateLocalhost()}onClickToggleStructure(){this.blog_structure=!this.blog_structure,this.currentURLID=this.blog_structure?1:0}onClickURL(e){this.currentURLID=e,console.log(e)}onUpdateLocalhost(){this.currentURLID===0&&(this.STRUCTURE[1].path=this.STRUCTURE[0].path+"/blog"),localStorage.setItem("keywords",JSON.stringify(this.KEYWORDS)),localStorage.setItem("structure",JSON.stringify(this.STRUCTURE))}};c.\u0275fac=function(t){return new(t||c)},c.\u0275cmp=L({type:c,selectors:[["app-structurer"]],standalone:!0,features:[F],decls:47,vars:8,consts:[[1,"flex","flex-col","justify-center","my-4"],[1,"block","font-bold","mb-4","text-xl","text-center","w-full"],[1,"flex","gap-4","justify-center","text-lg","w-full"],[1,"ms-3","text-sm","font-medium","text-gray-900","dark:text-gray-300"],[1,"relative","inline-flex","items-center","cursor-pointer"],["type","checkbox",1,"sr-only","peer",3,"click"],[1,"w-11","h-6","bg-gray-200","peer-focus:outline-none","peer-focus:ring-4","peer-focus:ring-blue-300","dark:peer-focus:ring-blue-800","rounded-full","peer","dark:bg-gray-700","peer-checked:after:translate-x-full","rtl:peer-checked:after:-translate-x-full","peer-checked:after:border-white","after:content-['']","after:absolute","after:top-[2px]","after:start-[2px]","after:bg-white","after:border-gray-300","after:border","after:rounded-full","after:h-5","after:w-5","after:transition-all","dark:border-gray-600","peer-checked:bg-blue-600"],[1,"grid","grid-cols-3","gap-4"],[1,"bg-slate-300","dark:bg-slate-700","flex","flex-col","gap-4","p-2","rounded"],[1,"flex","justify-between","gap-4"],["type","search","placeholder","Search unclassified keywords",1,"bg-slate-200","dark:bg-slate-950","p-2","placeholder:text-slate-800","dark:placeholder:text-gray-600","rounded",3,"ngModel","ngModelChange"],["type","button",1,"bg-blue-900","disabled:cursor-not-allowed","disabled:opacity-50","px-4","py-2","rounded-xl","text-white",3,"disabled","click"],[1,"divide-y-2","divide-slate-800","dark:divide-white"],[1,"bg-slate-300","dark:bg-slate-900","flex","flex-col","gap-4","p-2","rounded"],[1,"flex","flex-col","gap-2","w-full"],["for","New"],["id","New","type","text","placeholder","Example: brand => sets as https://site.com/brand in URL",1,"bg-slate-200","dark:bg-slate-950","p-2","placeholder:text-slate-800","dark:placeholder:text-gray-600","rounded","w-full",3,"ngModel","ngModelChange","keyup.enter"],["type","button",1,"bg-blue-900","disabled:cursor-not-allowed","disabled:opacity-50","px-4","py-2","rounded-xl","text-white",3,"click"],["class","flex gap-4"],[1,"bg-blue-200","dark:bg-blue-900","flex","flex-col","p-2","rounded"],[1,"bg-teal-500","flex","flex-col","p-4","rounded","w-full"],[1,"font-lg","font-bold"],["type","button","class","bg-red-900 disabled:cursor-not-allowed disabled:opacity-50 px-4 py-2 rounded-xl text-white"],["for","Editor"],["id","Editor","type","search","placeholder","Search unclassified keywords",1,"bg-slate-300","dark:bg-slate-950","p-2","placeholder:text-slate-800","dark:placeholder:text-gray-600","rounded","w-full",3,"ngModel","ngModelChange","input"],[1,"cursor-pointer","flex","justify-between","items-center","p-2","py-3",3,"ngClass","click"],[1,"flex","gap-4"],["type","checkbox",3,"ngModel","ngModelChange"],[1,"hover:underline",3,"href"],[1,"cursor-pointer","flex","justify-between","p-2",3,"ngClass","click"],["type","button",1,"bg-red-900","disabled:cursor-not-allowed","disabled:opacity-50","px-4","py-2","rounded-xl","text-white",3,"click"],[1,"cursor-pointer","flex","justify-between","items-center","p-4",3,"ngClass"],["xmlns","http://www.w3.org/2000/svg","width","18","height","18","viewBox","0 0 24 24","fill","none","stroke","#FFFFFF","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["points","3 6 5 6 21 6"],["d","M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"],["x1","10","y1","11","x2","10","y2","17"],["x1","14","y1","11","x2","14","y2","17"],["class","cursor-pointer flex justify-between items-center p-2 py-3",3,"ngClass"],["class"," cursor-pointer flex justify-between p-2",3,"ngClass"],["class","cursor-pointer flex justify-between items-center p-4",3,"ngClass"]],template:function(t,r){t&1&&(n(0,"div",0)(1,"h1",1),s(2," What you want structure? "),l(),n(3,"div",2)(4,"span",3),s(5,"Website"),l(),n(6,"label",4)(7,"input",5),u("click",function(){return r.onClickToggleStructure()}),l(),T(8,"div",6),n(9,"span",3),s(10,"Blog"),l()()()(),n(11,"div",7)(12,"article",8)(13,"section",9)(14,"input",10),u("ngModelChange",function(h){return r.INPUT_SEARCH=h}),l(),n(15,"button",11),u("click",function(){return r.onClickButtonAddKeywordToURL()}),s(16," + Add Kws to URL "),l()(),n(17,"ul",12),y(18,Y,7,7,"li",37,S,!1,P,2,0),l()(),n(21,"article",13)(22,"section")(23,"div",14)(24,"label",15),s(25,"Type here the URl name (/ and base path sets automatically)"),l(),n(26,"input",16),u("ngModelChange",function(h){return r.INPUT_NEW=h})("keyup.enter",function(){return r.onClickButtonAddURL()}),l()()(),n(27,"section",9)(28,"button",17),u("click",function(){return r.onClickButtonAddURL()}),s(29," new URL "),l(),x(30,j,5,2,"div",18),l(),n(31,"ul",12),y(32,H,6,4,"li",38,S),l()(),n(34,"article",19)(35,"section",20)(36,"div",9)(37,"h3",21),s(38,"URL Editor"),l(),x(39,J,2,0,"button",22),l(),n(40,"label",23),s(41,"Edit here the URL Path"),l(),n(42,"input",24),u("ngModelChange",function(h){return r.STRUCTURE[r.currentURLID].path=h})("input",function(){return r.onUpdateLocalhost()}),l()(),n(43,"ul",12),y(44,q,12,6,"li",39,S,!1,z,2,0),l()()()),t&2&&(a(14),p("ngModel",r.INPUT_SEARCH),a(1),p("disabled",r.disableButtonAddKeywordToURL),b(18,r.FilteredKeywords),a(11),p("ngModel",r.INPUT_NEW),a(4),U(30,r.FilteredURLs.length>2?30:-1),b(32,r.FilteredURLs),a(9),U(39,r.currentURLID>1?39:-1),a(3),p("ngModel",r.STRUCTURE[r.currentURLID].path),b(44,r.AssignedKeywords))},dependencies:[K,M,O,V,N,W,A]});let o=c;return o})();export{te as default};
