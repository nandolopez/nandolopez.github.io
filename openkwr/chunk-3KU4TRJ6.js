import{a as N,b as V,c as W,d as A,j as O}from"./chunk-PCUFHY27.js";import{$ as I,$a as F,Ba as p,Ea as R,Fa as x,Ga as U,Ha as S,Ia as y,La as o,Ma as n,Na as k,Oa as b,Qa as u,Ra as m,Sa as s,Ua as g,V as L,Z as _,_ as f,a as C,aa as D,bb as T,na as E,ta as a,tb as M,ub as K}from"./chunk-6BWRTQLS.js";var B=l=>({"bg-blue-400":l});function Y(l,d){if(l&1){let r=b();o(0,"div",24),u("click",function(){let i=_(r).$implicit,c=m();return f(c.KEYWORDS[i.id].selected=!c.KEYWORDS[i.id].selected)}),o(1,"div",25)(2,"input",26),u("ngModelChange",function(t){let c=_(r).$implicit,h=m();return f(h.KEYWORDS[c.id].selected=t)}),n(),o(3,"a",27),s(4),n()(),o(5,"span"),s(6),n()()}if(l&2){let r=d.$implicit,e=m();p("ngClass",T(5,B,r.selected)),a(2),p("ngModel",e.KEYWORDS[r.id].selected),a(1),p("href","https://google.com/search?q="+r.keyword.replace(" ","+"),E),a(1),g(" ",r.keyword," "),a(2),g(" ",r.volume," ")}}function P(l,d){l&1&&(o(0,"p"),s(1,"All keywords have been classified"),n())}function j(l,d){if(l&1){let r=b();o(0,"div",25)(1,"button",11),u("click",function(){_(r);let t=m();return f(t.onClickButtonMove(!0))}),s(2," up "),n(),o(3,"button",11),u("click",function(){_(r);let t=m();return f(t.onClickButtonMove())}),s(4," down "),n()()}if(l&2){let r=m();a(1),p("disabled",r.currentURLID<2||r.currentURLID===r.FilteredURLs[1].id),a(2),p("disabled",r.currentURLID===r.FilteredURLs[0].id||r.currentURLID===r.FilteredURLs[r.FilteredURLs.length-1].id)}}function $(l,d){if(l&1&&s(0),l&2){let r=m(2);g(" ",r.FilteredURLs[0].path,"/")}}function H(l,d){if(l&1){let r=b();o(0,"div",28),u("click",function(){let i=_(r).$implicit,c=m();return f(c.onClickURL(i.id))}),o(1,"div",25),R(2,$,1,1),s(3),n(),o(4,"span"),s(5),n()()}if(l&2){let r=d.$implicit,e=d.$index,t=m();p("ngClass",t.currentURLID===r.id?"bg-sky-200 dark:bg-blue-400":""),a(2),x(2,e>0?2:-1),a(1),g("",r.path," "),a(2),g(" ",r.volume," ")}}function J(l,d){if(l&1){let r=b();o(0,"button",29),u("click",function(){_(r);let t=m();return f(t.onClickButtonRemoveURL())}),s(1," Remove URL "),n()}}function q(l,d){if(l&1){let r=b();o(0,"div",30)(1,"div",25)(2,"button",29),u("click",function(){let i=_(r).$implicit,c=m();return f(c.onClickButtonRemoveKeywordFromURL(i.id))}),I(),o(3,"svg",31),k(4,"polyline",32)(5,"path",33)(6,"line",34)(7,"line",35),n()(),D(),o(8,"a",27),s(9),n()(),o(10,"span"),s(11),n()()}if(l&2){let r=d.$implicit;p("ngClass",T(4,B,r.selected)),a(8),p("href","https://google.com/search?q="+r.keyword.replace(" ","+"),E),a(1),g(" ",r.keyword," "),a(2),g(" ",r.volume," ")}}function z(l,d){l&1&&(o(0,"p"),s(1,"All keywords have been classified"),n())}var te=(()=>{let d=class d{constructor(){this.blog_structure=!1,this.currentURLID=0,this.KEYWORDS=[],this.STRUCTURE=[],this.INPUT_SEARCH="",this.INPUT_NEW=""}get disableButtonAddKeywordToURL(){return!this.FilteredKeywords.some(e=>e.selected)}get type(){return this.blog_structure?"Informational":"Transactional"}get FilteredKeywords(){let e=this.KEYWORDS.filter(t=>t.type===this.type&&t.url==="");return this.INPUT_SEARCH!==""&&(e=e.filter(t=>t.keyword.includes(this.INPUT_SEARCH))),e}get FilteredURLs(){return this.STRUCTURE.filter(e=>e.type===this.type)}get AssignedKeywords(){return this.KEYWORDS.filter(e=>e.url===this.STRUCTURE[this.currentURLID].path)}ngOnInit(){this.KEYWORDS=JSON.parse(localStorage.getItem("keywords")||""),this.STRUCTURE=JSON.parse(localStorage.getItem("structure")||"")}onClickButtonAddURL(){let e=this.STRUCTURE.length;console.log(e);let t={id:e,path:this.INPUT_NEW,type:this.type,volume:0};this.STRUCTURE.push(t),this.currentURLID=e,this.INPUT_NEW="",this.onUpdateLocalhost()}onClickButtonAddKeywordToURL(){let e=0;this.FilteredKeywords.forEach(t=>{this.KEYWORDS[t.id].selected&&(this.KEYWORDS[t.id].url=this.STRUCTURE[this.currentURLID].path,e+=t.volume),this.KEYWORDS[t.id].selected=!1}),this.INPUT_SEARCH="",this.STRUCTURE[this.currentURLID].volume=e,this.onUpdateLocalhost()}onClickButtonMove(e=!1){let t=this.FilteredURLs.findIndex(w=>w.id===this.currentURLID),i=C({},this.FilteredURLs[t]),c=1;e?t--:t++;let h=C({},this.FilteredURLs[t]);this.STRUCTURE[i.id]=C({},h),this.STRUCTURE[h.id]=C({},i),this.currentURLID=h.id,this.STRUCTURE.forEach((w,v)=>this.STRUCTURE[v].id=v),this.onUpdateLocalhost()}onClickButtonRemoveKeywordFromURL(e){this.KEYWORDS[e].url="",this.STRUCTURE[this.currentURLID].volume-=this.KEYWORDS[e].volume}onClickButtonRemoveURL(){let e=this.FilteredURLs.findIndex(t=>t.id===this.currentURLID);this.AssignedKeywords.forEach(t=>this.KEYWORDS[t.id].url=""),this.STRUCTURE.splice(this.currentURLID,1),this.STRUCTURE.forEach((t,i)=>this.STRUCTURE[i].id=i),this.currentURLID=this.FilteredURLs[e-1].id,this.onUpdateLocalhost()}onClickToggleStructure(){this.blog_structure=!this.blog_structure,this.currentURLID=this.blog_structure?1:0}onClickURL(e){this.currentURLID=e,console.log(e)}onUpdateLocalhost(){this.currentURLID===0&&(this.STRUCTURE[1].path=this.STRUCTURE[0].path+"/blog"),localStorage.setItem("keywords",JSON.stringify(this.KEYWORDS)),localStorage.setItem("structure",JSON.stringify(this.STRUCTURE))}};d.\u0275fac=function(t){return new(t||d)},d.\u0275cmp=L({type:d,selectors:[["app-structurer"]],standalone:!0,features:[F],decls:44,vars:8,consts:[[1,"flex","flex-col","justify-center","my-4"],[1,"block","font-bold","mb-4","text-xl","text-center","w-full"],[1,"flex","gap-4","justify-center","text-lg","w-full"],[1,"ms-3","text-sm","font-medium","text-gray-900","dark:text-gray-300"],[1,"relative","inline-flex","items-center","cursor-pointer"],["type","checkbox",1,"sr-only","peer",3,"click"],[1,"w-11","h-6","bg-gray-200","peer-focus:outline-none","peer-focus:ring-4","peer-focus:ring-blue-300","dark:peer-focus:ring-blue-800","rounded-full","peer","dark:bg-gray-700","peer-checked:after:translate-x-full","rtl:peer-checked:after:-translate-x-full","peer-checked:after:border-white","after:content-['']","after:absolute","after:top-[2px]","after:start-[2px]","after:bg-white","after:border-gray-300","after:border","after:rounded-full","after:h-5","after:w-5","after:transition-all","dark:border-gray-600","peer-checked:bg-blue-600"],[1,"grid","grid-cols-3","gap-4"],[1,"bg-slate-300","dark:bg-slate-700","flex","flex-col","gap-4","p-2","rounded"],[1,"flex","justify-between","gap-4"],["type","search","placeholder","Search unclassified keywords",1,"bg-slate-200","dark:bg-slate-950","p-2","placeholder:text-slate-800","dark:placeholder:text-gray-600","rounded",3,"ngModel","ngModelChange"],["type","button",1,"bg-blue-900","disabled:cursor-not-allowed","disabled:opacity-50","px-4","py-2","rounded-xl","text-white",3,"disabled","click"],[1,"bg-slate-400","dark:bg-slate-900","flex","flex-col","gap-4","p-2","rounded"],[1,"flex","flex-col","gap-2","w-full"],["for","New"],["id","New","type","text","placeholder","Example: brand => sets as https://site.com/brand in URL",1,"bg-slate-200","dark:bg-slate-950","p-2","placeholder:text-slate-800","dark:placeholder:text-gray-600","rounded","w-full",3,"ngModel","ngModelChange","keyup.enter"],["type","button",1,"bg-blue-900","disabled:cursor-not-allowed","disabled:opacity-50","px-4","py-2","rounded-xl","text-white",3,"click"],["class","flex gap-4"],[1,"bg-sky-200","dark:bg-blue-900","flex","flex-col","p-2","rounded"],[1,"bg-teal-500","flex","flex-col","p-4","rounded","w-full"],[1,"font-lg","font-bold"],["type","button","class","bg-red-900 disabled:cursor-not-allowed disabled:opacity-50 px-4 py-2 rounded-xl text-white"],["for","Editor"],["id","Editor","type","search","placeholder","Search unclassified keywords",1,"bg-slate-300","dark:bg-slate-950","p-2","placeholder:text-slate-800","dark:placeholder:text-gray-600","rounded","w-full",3,"ngModel","ngModelChange","input"],[1,"border-b-2","border-b-slate-800","dark:border-b-white","cursor-pointer","flex","justify-between","p-4",3,"ngClass","click"],[1,"flex","gap-4"],["type","checkbox",3,"ngModel","ngModelChange"],[1,"hover:underline",3,"href"],[1,"border-b-2","border-b-slate-800","dark:border-b-white","cursor-pointer","flex","justify-between","p-2",3,"ngClass","click"],["type","button",1,"bg-red-900","disabled:cursor-not-allowed","disabled:opacity-50","px-4","py-2","rounded-xl","text-white",3,"click"],[1,"border-b-2","border-b-slate-800","dark:border-b-white","cursor-pointer","flex","justify-between","p-4",3,"ngClass"],["xmlns","http://www.w3.org/2000/svg","width","18","height","18","viewBox","0 0 24 24","fill","none","stroke","#FFFFFF","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["points","3 6 5 6 21 6"],["d","M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"],["x1","10","y1","11","x2","10","y2","17"],["x1","14","y1","11","x2","14","y2","17"],["class","border-b-2 border-b-slate-800 dark:border-b-white cursor-pointer flex justify-between p-4",3,"ngClass"],["class","border-b-2 border-b-slate-800 dark:border-b-white cursor-pointer flex justify-between p-2",3,"ngClass"]],template:function(t,i){t&1&&(o(0,"div",0)(1,"h1",1),s(2," What you want structure? "),n(),o(3,"div",2)(4,"span",3),s(5,"Website"),n(),o(6,"label",4)(7,"input",5),u("click",function(){return i.onClickToggleStructure()}),n(),k(8,"div",6),o(9,"span",3),s(10,"Blog"),n()()()(),o(11,"div",7)(12,"article",8)(13,"section",9)(14,"input",10),u("ngModelChange",function(h){return i.INPUT_SEARCH=h}),n(),o(15,"button",11),u("click",function(){return i.onClickButtonAddKeywordToURL()}),s(16," + Add Kws to URL "),n()(),S(17,Y,7,7,"div",36,U,!1,P,2,0),n(),o(20,"article",12)(21,"section")(22,"div",13)(23,"label",14),s(24,"Type here the URl name (/ and base path sets automatically)"),n(),o(25,"input",15),u("ngModelChange",function(h){return i.INPUT_NEW=h})("keyup.enter",function(){return i.onClickButtonAddURL()}),n()()(),o(26,"section",9)(27,"button",16),u("click",function(){return i.onClickButtonAddURL()}),s(28," new URL "),n(),R(29,j,5,2,"div",17),n(),S(30,H,6,4,"div",37,U),n(),o(32,"article",18)(33,"section",19)(34,"div",9)(35,"h3",20),s(36,"URL Editor"),n(),R(37,J,2,0,"button",21),n(),o(38,"label",22),s(39,"Edit here the URL Path"),n(),o(40,"input",23),u("ngModelChange",function(h){return i.STRUCTURE[i.currentURLID].path=h})("input",function(){return i.onUpdateLocalhost()}),n()(),S(41,q,12,6,"div",36,U,!1,z,2,0),n()()),t&2&&(a(14),p("ngModel",i.INPUT_SEARCH),a(1),p("disabled",i.disableButtonAddKeywordToURL),y(17,i.FilteredKeywords),a(10),p("ngModel",i.INPUT_NEW),a(4),x(29,i.FilteredURLs.length>2?29:-1),y(30,i.FilteredURLs),a(8),x(37,i.currentURLID>1?37:-1),a(3),p("ngModel",i.STRUCTURE[i.currentURLID].path),y(41,i.AssignedKeywords))},dependencies:[K,M,O,V,N,W,A]});let l=d;return l})();export{te as default};
